function cov_10146b33h9(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/get_job.js";var hash="2827ab5ee7d079cbcad96738596d6c48864e461a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/get_job.js",statementMap:{"0":{start:{line:19,column:15},end:{line:19,column:40}},"1":{start:{line:20,column:13},end:{line:20,column:27}},"2":{start:{line:22,column:0},end:{line:95,column:2}},"3":{start:{line:24,column:4},end:{line:24,column:22}},"4":{start:{line:26,column:19},end:{line:26,column:46}},"5":{start:{line:27,column:19},end:{line:27,column:49}},"6":{start:{line:28,column:19},end:{line:28,column:46}},"7":{start:{line:29,column:19},end:{line:29,column:50}},"8":{start:{line:30,column:19},end:{line:30,column:45}},"9":{start:{line:31,column:19},end:{line:31,column:48}},"10":{start:{line:33,column:18},end:{line:40,column:6}},"11":{start:{line:44,column:4},end:{line:94,column:6}},"12":{start:{line:47,column:16},end:{line:47,column:36}},"13":{start:{line:51,column:16},end:{line:53,column:17}},"14":{start:{line:52,column:20},end:{line:52,column:45}},"15":{start:{line:55,column:16},end:{line:55,column:76}},"16":{start:{line:59,column:16},end:{line:59,column:30}},"17":{start:{line:60,column:16},end:{line:60,column:73}},"18":{start:{line:61,column:16},end:{line:61,column:23}},"19":{start:{line:65,column:12},end:{line:92,column:13}},"20":{start:{line:66,column:16},end:{line:71,column:17}},"21":{start:{line:67,column:20},end:{line:67,column:59}},"22":{start:{line:70,column:20},end:{line:70,column:37}},"23":{start:{line:72,column:16},end:{line:74,column:17}},"24":{start:{line:73,column:20},end:{line:73,column:59}},"25":{start:{line:75,column:16},end:{line:75,column:30}},"26":{start:{line:78,column:16},end:{line:91,column:18}},"27":{start:{line:81,column:28},end:{line:81,column:54}},"28":{start:{line:84,column:28},end:{line:84,column:76}},"29":{start:{line:85,column:28},end:{line:85,column:35}},"30":{start:{line:89,column:24},end:{line:89,column:38}},"31":{start:{line:97,column:0},end:{line:99,column:1}},"32":{start:{line:98,column:4},end:{line:98,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:22,column:15},end:{line:22,column:16}},loc:{start:{line:22,column:40},end:{line:95,column:1}},line:22},"1":{name:"(anonymous_1)",decl:{start:{line:46,column:12},end:{line:46,column:13}},loc:{start:{line:46,column:27},end:{line:48,column:13}},line:46},"2":{name:"(anonymous_2)",decl:{start:{line:50,column:12},end:{line:50,column:13}},loc:{start:{line:50,column:36},end:{line:56,column:13}},line:50},"3":{name:"(anonymous_3)",decl:{start:{line:57,column:12},end:{line:57,column:13}},loc:{start:{line:57,column:32},end:{line:62,column:13}},line:57},"4":{name:"(anonymous_4)",decl:{start:{line:64,column:8},end:{line:64,column:9}},loc:{start:{line:64,column:22},end:{line:93,column:9}},line:64},"5":{name:"(anonymous_5)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:39},end:{line:82,column:25}},line:79},"6":{name:"(anonymous_6)",decl:{start:{line:83,column:24},end:{line:83,column:25}},loc:{start:{line:83,column:44},end:{line:86,column:25}},line:83},"7":{name:"(anonymous_7)",decl:{start:{line:88,column:20},end:{line:88,column:21}},loc:{start:{line:88,column:34},end:{line:90,column:21}},line:88},"8":{name:"(anonymous_8)",decl:{start:{line:98,column:21},end:{line:98,column:22}},loc:{start:{line:98,column:32},end:{line:98,column:34}},line:98}},branchMap:{"0":{loc:{start:{line:24,column:11},end:{line:24,column:21}},type:"binary-expr",locations:[{start:{line:24,column:11},end:{line:24,column:15}},{start:{line:24,column:19},end:{line:24,column:21}}],line:24},"1":{loc:{start:{line:26,column:19},end:{line:26,column:46}},type:"binary-expr",locations:[{start:{line:26,column:19},end:{line:26,column:32}},{start:{line:26,column:39},end:{line:26,column:46}}],line:26},"2":{loc:{start:{line:27,column:19},end:{line:27,column:49}},type:"binary-expr",locations:[{start:{line:27,column:19},end:{line:27,column:32}},{start:{line:27,column:39},end:{line:27,column:49}}],line:27},"3":{loc:{start:{line:28,column:19},end:{line:28,column:46}},type:"binary-expr",locations:[{start:{line:28,column:19},end:{line:28,column:30}},{start:{line:28,column:39},end:{line:28,column:46}}],line:28},"4":{loc:{start:{line:29,column:19},end:{line:29,column:50}},type:"binary-expr",locations:[{start:{line:29,column:19},end:{line:29,column:28}},{start:{line:29,column:39},end:{line:29,column:50}}],line:29},"5":{loc:{start:{line:30,column:19},end:{line:30,column:45}},type:"binary-expr",locations:[{start:{line:30,column:19},end:{line:30,column:28}},{start:{line:30,column:39},end:{line:30,column:45}}],line:30},"6":{loc:{start:{line:31,column:19},end:{line:31,column:48}},type:"binary-expr",locations:[{start:{line:31,column:19},end:{line:31,column:31}},{start:{line:31,column:39},end:{line:31,column:48}}],line:31},"7":{loc:{start:{line:51,column:16},end:{line:53,column:17}},type:"if",locations:[{start:{line:51,column:16},end:{line:53,column:17}},{start:{line:51,column:16},end:{line:53,column:17}}],line:51},"8":{loc:{start:{line:65,column:12},end:{line:92,column:13}},type:"if",locations:[{start:{line:65,column:12},end:{line:92,column:13}},{start:{line:65,column:12},end:{line:92,column:13}}],line:65},"9":{loc:{start:{line:65,column:16},end:{line:65,column:27}},type:"binary-expr",locations:[{start:{line:65,column:16},end:{line:65,column:19}},{start:{line:65,column:23},end:{line:65,column:27}}],line:65},"10":{loc:{start:{line:66,column:16},end:{line:71,column:17}},type:"if",locations:[{start:{line:66,column:16},end:{line:71,column:17}},{start:{line:66,column:16},end:{line:71,column:17}}],line:66},"11":{loc:{start:{line:66,column:20},end:{line:66,column:85}},type:"binary-expr",locations:[{start:{line:66,column:20},end:{line:66,column:46}},{start:{line:66,column:50},end:{line:66,column:85}}],line:66},"12":{loc:{start:{line:72,column:16},end:{line:74,column:17}},type:"if",locations:[{start:{line:72,column:16},end:{line:74,column:17}},{start:{line:72,column:16},end:{line:74,column:17}}],line:72},"13":{loc:{start:{line:97,column:0},end:{line:99,column:1}},type:"if",locations:[{start:{line:97,column:0},end:{line:99,column:1}},{start:{line:97,column:0},end:{line:99,column:1}}],line:97}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2827ab5ee7d079cbcad96738596d6c48864e461a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_10146b33h9=function(){return actualCoverage;};}return actualCoverage;}cov_10146b33h9();// Copyright 2015 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
// This example will show how to get a `Job` by it's sid without
// fetching a collection of `Job`s.
var splunkjs=(cov_10146b33h9().s[0]++,require('../../../index'));var Async=(cov_10146b33h9().s[1]++,splunkjs.Async);cov_10146b33h9().s[2]++;exports.main=function(opts,callback){cov_10146b33h9().f[0]++;cov_10146b33h9().s[3]++;// This is just for testing - ignore it
opts=(cov_10146b33h9().b[0][0]++,opts)||(cov_10146b33h9().b[0][1]++,{});var username=(cov_10146b33h9().s[4]++,(cov_10146b33h9().b[1][0]++,opts.username)||(cov_10146b33h9().b[1][1]++,"admin"));var password=(cov_10146b33h9().s[5]++,(cov_10146b33h9().b[2][0]++,opts.password)||(cov_10146b33h9().b[2][1]++,"changed!"));var scheme=(cov_10146b33h9().s[6]++,(cov_10146b33h9().b[3][0]++,opts.scheme)||(cov_10146b33h9().b[3][1]++,"https"));var host=(cov_10146b33h9().s[7]++,(cov_10146b33h9().b[4][0]++,opts.host)||(cov_10146b33h9().b[4][1]++,"localhost"));var port=(cov_10146b33h9().s[8]++,(cov_10146b33h9().b[5][0]++,opts.port)||(cov_10146b33h9().b[5][1]++,"8089"));var version=(cov_10146b33h9().s[9]++,(cov_10146b33h9().b[6][0]++,opts.version)||(cov_10146b33h9().b[6][1]++,"default"));var service=(cov_10146b33h9().s[10]++,new splunkjs.Service({username:username,password:password,scheme:scheme,host:host,port:port,version:version}));var sid;cov_10146b33h9().s[11]++;Async.chain([// First, we log in
function(done){cov_10146b33h9().f[1]++;cov_10146b33h9().s[12]++;service.login(done);},// Perform the search
function(success,done){cov_10146b33h9().f[2]++;cov_10146b33h9().s[13]++;if(!success){cov_10146b33h9().b[7][0]++;cov_10146b33h9().s[14]++;done("Error logging in");}else{cov_10146b33h9().b[7][1]++;}cov_10146b33h9().s[15]++;service.search("search index=_internal | head 1",{},done);},function(job,done){cov_10146b33h9().f[3]++;cov_10146b33h9().s[16]++;// Store the sid for later use
sid=job.sid;cov_10146b33h9().s[17]++;console.log("Created a search job with sid: "+job.sid);cov_10146b33h9().s[18]++;done();}],function(err){cov_10146b33h9().f[4]++;cov_10146b33h9().s[19]++;if((cov_10146b33h9().b[9][0]++,err)||(cov_10146b33h9().b[9][1]++,!sid)){cov_10146b33h9().b[8][0]++;cov_10146b33h9().s[20]++;if((cov_10146b33h9().b[11][0]++,err.hasOwnProperty("data"))&&(cov_10146b33h9().b[11][1]++,err.data.hasOwnProperty("messages"))){cov_10146b33h9().b[10][0]++;cov_10146b33h9().s[21]++;console.log(err.data.messages[0].text);}else{cov_10146b33h9().b[10][1]++;cov_10146b33h9().s[22]++;console.log(err);}cov_10146b33h9().s[23]++;if(!sid){cov_10146b33h9().b[12][0]++;cov_10146b33h9().s[24]++;console.log("Couldn't create search.");}else{cov_10146b33h9().b[12][1]++;}cov_10146b33h9().s[25]++;callback(err);}else{cov_10146b33h9().b[8][1]++;cov_10146b33h9().s[26]++;Async.chain([function(done){cov_10146b33h9().f[5]++;cov_10146b33h9().s[27]++;// Since we have the job sid, we can get that job directly
service.getJob(sid,done);},function(job,done){cov_10146b33h9().f[6]++;cov_10146b33h9().s[28]++;console.log("Got the job with sid: "+job.sid);cov_10146b33h9().s[29]++;done();}],function(err){cov_10146b33h9().f[7]++;cov_10146b33h9().s[30]++;callback(err);});}});};cov_10146b33h9().s[31]++;if(module===require.main){cov_10146b33h9().b[13][0]++;cov_10146b33h9().s[32]++;exports.main({},function(){cov_10146b33h9().f[8]++;});}else{cov_10146b33h9().b[13][1]++;}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldF9qb2IuanMiXSwibmFtZXMiOlsic3BsdW5ranMiLCJyZXF1aXJlIiwiQXN5bmMiLCJleHBvcnRzIiwibWFpbiIsIm9wdHMiLCJjYWxsYmFjayIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzY2hlbWUiLCJob3N0IiwicG9ydCIsInZlcnNpb24iLCJzZXJ2aWNlIiwiU2VydmljZSIsInNpZCIsImNoYWluIiwiZG9uZSIsImxvZ2luIiwic3VjY2VzcyIsInNlYXJjaCIsImpvYiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJoYXNPd25Qcm9wZXJ0eSIsImRhdGEiLCJtZXNzYWdlcyIsInRleHQiLCJnZXRKb2IiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJ3N05BZVk7MkZBZFo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEsR0FBSUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBWixDQUNBLEdBQUlDLENBQUFBLEtBQUssMEJBQUlGLFFBQVEsQ0FBQ0UsS0FBYixDQUFULEMsd0JBRUFDLE9BQU8sQ0FBQ0MsSUFBUixDQUFlLFNBQVNDLElBQVQsQ0FBZUMsUUFBZixDQUF5QixpREFDcEM7QUFDQUQsSUFBSSxDQUFHLDRCQUFBQSxJQUFJLCtCQUFJLEVBQUosQ0FBWCxDQUVBLEdBQUlFLENBQUFBLFFBQVEsMEJBQUcsNEJBQUFGLElBQUksQ0FBQ0UsUUFBTCwrQkFBb0IsT0FBcEIsQ0FBSCxDQUFaLENBQ0EsR0FBSUMsQ0FBQUEsUUFBUSwwQkFBRyw0QkFBQUgsSUFBSSxDQUFDRyxRQUFMLCtCQUFvQixVQUFwQixDQUFILENBQVosQ0FDQSxHQUFJQyxDQUFBQSxNQUFNLDBCQUFLLDRCQUFBSixJQUFJLENBQUNJLE1BQUwsK0JBQW9CLE9BQXBCLENBQUwsQ0FBVixDQUNBLEdBQUlDLENBQUFBLElBQUksMEJBQU8sNEJBQUFMLElBQUksQ0FBQ0ss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MDE1IFNwbHVuaywgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik6IHlvdSBtYXlcbi8vIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluXG4vLyBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4vLyBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbi8vIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8gVGhpcyBleGFtcGxlIHdpbGwgc2hvdyBob3cgdG8gZ2V0IGEgYEpvYmAgYnkgaXQncyBzaWQgd2l0aG91dFxuLy8gZmV0Y2hpbmcgYSBjb2xsZWN0aW9uIG9mIGBKb2Jgcy5cblxudmFyIHNwbHVua2pzID0gcmVxdWlyZSgnLi4vLi4vLi4vaW5kZXgnKTtcbnZhciBBc3luYyAgPSBzcGx1bmtqcy5Bc3luYztcblxuZXhwb3J0cy5tYWluID0gZnVuY3Rpb24ob3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBUaGlzIGlzIGp1c3QgZm9yIHRlc3RpbmcgLSBpZ25vcmUgaXRcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBcbiAgICB2YXIgdXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lICAgIHx8IFwiYWRtaW5cIjtcbiAgICB2YXIgcGFzc3dvcmQgPSBvcHRzLnBhc3N3b3JkICAgIHx8IFwiY2hhbmdlZCFcIjtcbiAgICB2YXIgc2NoZW1lICAgPSBvcHRzLnNjaGVtZSAgICAgIHx8IFwiaHR0cHNcIjtcbiAgICB2YXIgaG9zdCAgICAgPSBvcHRzLmhvc3QgICAgICAgIHx8IFwibG9jYWxob3N0XCI7XG4gICAgdmFyIHBvcnQgICAgID0gb3B0cy5wb3J0ICAgICAgICB8fCBcIjgwODlcIjtcbiAgICB2YXIgdmVyc2lvbiAgPSBvcHRzLnZlcnNpb24gICAgIHx8IFwiZGVmYXVsdFwiO1xuICAgIFxuICAgIHZhciBzZXJ2aWNlID0gbmV3IHNwbHVua2pzLlNlcnZpY2Uoe1xuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgc2NoZW1lOiBzY2hlbWUsXG4gICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb25cbiAgICB9KTtcblxuICAgIHZhciBzaWQ7XG5cbiAgICBBc3luYy5jaGFpbihbXG4gICAgICAgICAgICAvLyBGaXJzdCwgd2UgbG9nIGluXG4gICAgICAgICAgICBmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS5sb2dpbihkb25lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSBzZWFyY2hcbiAgICAgICAgICAgIGZ1bmN0aW9uKHN1Y2Nlc3MsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZShcIkVycm9yIGxvZ2dpbmcgaW5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNlcnZpY2Uuc2VhcmNoKFwic2VhcmNoIGluZGV4PV9pbnRlcm5hbCB8IGhlYWQgMVwiLCB7fSwgZG9uZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oam9iLCBkb25lKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHNpZCBmb3IgbGF0ZXIgdXNlXG4gICAgICAgICAgICAgICAgc2lkID0gam9iLnNpZDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0ZWQgYSBzZWFyY2ggam9iIHdpdGggc2lkOiBcIiArIGpvYi5zaWQpO1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIHx8ICFzaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLmhhc093blByb3BlcnR5KFwiZGF0YVwiKSAmJiBlcnIuZGF0YS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5kYXRhLm1lc3NhZ2VzWzBdLnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG4ndCBjcmVhdGUgc2VhcmNoLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIEFzeW5jLmNoYWluKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBoYXZlIHRoZSBqb2Igc2lkLCB3ZSBjYW4gZ2V0IHRoYXQgam9iIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5nZXRKb2Ioc2lkLCBkb25lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdvdCB0aGUgam9iIHdpdGggc2lkOiBcIiArIGpvYi5zaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG59O1xuXG5pZiAobW9kdWxlID09PSByZXF1aXJlLm1haW4pIHtcbiAgICBleHBvcnRzLm1haW4oe30sIGZ1bmN0aW9uKCkge30pO1xufSJdfQ==