function cov_23gd34sq0v(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/log.js";var hash="84b1d9ac382f55e7af08ddaa3fe0b6393cf1dec8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/log.js",statementMap:{"0":{start:{line:19,column:15},end:{line:19,column:40}},"1":{start:{line:21,column:13},end:{line:81,column:2}},"2":{start:{line:23,column:8},end:{line:23,column:31}},"3":{start:{line:25,column:8},end:{line:25,column:26}},"4":{start:{line:27,column:8},end:{line:27,column:25}},"5":{start:{line:28,column:8},end:{line:28,column:69}},"6":{start:{line:28,column:31},end:{line:28,column:67}},"7":{start:{line:29,column:8},end:{line:29,column:68}},"8":{start:{line:29,column:31},end:{line:29,column:66}},"9":{start:{line:30,column:8},end:{line:30,column:70}},"10":{start:{line:30,column:31},end:{line:30,column:68}},"11":{start:{line:31,column:8},end:{line:31,column:91}},"12":{start:{line:31,column:31},end:{line:31,column:89}},"13":{start:{line:33,column:8},end:{line:35,column:9}},"14":{start:{line:34,column:12},end:{line:34,column:59}},"15":{start:{line:39,column:22},end:{line:43,column:9}},"16":{start:{line:45,column:8},end:{line:45,column:47}},"17":{start:{line:46,column:8},end:{line:46,column:26}},"18":{start:{line:50,column:22},end:{line:54,column:9}},"19":{start:{line:56,column:8},end:{line:56,column:47}},"20":{start:{line:57,column:8},end:{line:57,column:28}},"21":{start:{line:61,column:22},end:{line:65,column:9}},"22":{start:{line:67,column:8},end:{line:67,column:47}},"23":{start:{line:68,column:8},end:{line:68,column:27}},"24":{start:{line:72,column:22},end:{line:76,column:9}},"25":{start:{line:78,column:8},end:{line:78,column:47}},"26":{start:{line:79,column:8},end:{line:79,column:27}},"27":{start:{line:83,column:0},end:{line:127,column:2}},"28":{start:{line:85,column:4},end:{line:85,column:22}},"29":{start:{line:87,column:19},end:{line:87,column:46}},"30":{start:{line:88,column:19},end:{line:88,column:49}},"31":{start:{line:89,column:19},end:{line:89,column:46}},"32":{start:{line:90,column:19},end:{line:90,column:50}},"33":{start:{line:91,column:19},end:{line:91,column:45}},"34":{start:{line:92,column:19},end:{line:92,column:48}},"35":{start:{line:94,column:18},end:{line:101,column:6}},"36":{start:{line:104,column:4},end:{line:126,column:7}},"37":{start:{line:107,column:8},end:{line:111,column:9}},"38":{start:{line:108,column:12},end:{line:108,column:47}},"39":{start:{line:109,column:12},end:{line:109,column:40}},"40":{start:{line:110,column:12},end:{line:110,column:19}},"41":{start:{line:114,column:21},end:{line:114,column:84}},"42":{start:{line:119,column:8},end:{line:119,column:37}},"43":{start:{line:120,column:8},end:{line:120,column:39}},"44":{start:{line:121,column:8},end:{line:121,column:40}},"45":{start:{line:122,column:8},end:{line:122,column:56}},"46":{start:{line:125,column:8},end:{line:125,column:15}},"47":{start:{line:129,column:0},end:{line:131,column:1}},"48":{start:{line:130,column:4},end:{line:130,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:22,column:10},end:{line:22,column:11}},loc:{start:{line:22,column:34},end:{line:36,column:5}},line:22},"1":{name:"(anonymous_1)",decl:{start:{line:38,column:9},end:{line:38,column:10}},loc:{start:{line:38,column:24},end:{line:47,column:5}},line:38},"2":{name:"(anonymous_2)",decl:{start:{line:49,column:11},end:{line:49,column:12}},loc:{start:{line:49,column:26},end:{line:58,column:5}},line:49},"3":{name:"(anonymous_3)",decl:{start:{line:60,column:10},end:{line:60,column:11}},loc:{start:{line:60,column:25},end:{line:69,column:5}},line:60},"4":{name:"(anonymous_4)",decl:{start:{line:71,column:10},end:{line:71,column:11}},loc:{start:{line:71,column:25},end:{line:80,column:5}},line:71},"5":{name:"(anonymous_5)",decl:{start:{line:83,column:15},end:{line:83,column:16}},loc:{start:{line:83,column:36},end:{line:127,column:1}},line:83},"6":{name:"(anonymous_6)",decl:{start:{line:104,column:18},end:{line:104,column:19}},loc:{start:{line:104,column:41},end:{line:126,column:5}},line:104},"7":{name:"(anonymous_7)",decl:{start:{line:130,column:21},end:{line:130,column:22}},loc:{start:{line:130,column:32},end:{line:130,column:34}},line:130}},branchMap:{"0":{loc:{start:{line:25,column:15},end:{line:25,column:25}},type:"binary-expr",locations:[{start:{line:25,column:15},end:{line:25,column:19}},{start:{line:25,column:23},end:{line:25,column:25}}],line:25},"1":{loc:{start:{line:28,column:8},end:{line:28,column:69}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:69}},{start:{line:28,column:8},end:{line:28,column:69}}],line:28},"2":{loc:{start:{line:29,column:8},end:{line:29,column:68}},type:"if",locations:[{start:{line:29,column:8},end:{line:29,column:68}},{start:{line:29,column:8},end:{line:29,column:68}}],line:29},"3":{loc:{start:{line:30,column:8},end:{line:30,column:70}},type:"if",locations:[{start:{line:30,column:8},end:{line:30,column:70}},{start:{line:30,column:8},end:{line:30,column:70}}],line:30},"4":{loc:{start:{line:31,column:8},end:{line:31,column:91}},type:"if",locations:[{start:{line:31,column:8},end:{line:31,column:91}},{start:{line:31,column:8},end:{line:31,column:91}}],line:31},"5":{loc:{start:{line:31,column:56},end:{line:31,column:88}},type:"binary-expr",locations:[{start:{line:31,column:56},end:{line:31,column:71}},{start:{line:31,column:75},end:{line:31,column:88}}],line:31},"6":{loc:{start:{line:33,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:33,column:8},end:{line:35,column:9}},{start:{line:33,column:8},end:{line:35,column:9}}],line:33},"7":{loc:{start:{line:85,column:11},end:{line:85,column:21}},type:"binary-expr",locations:[{start:{line:85,column:11},end:{line:85,column:15}},{start:{line:85,column:19},end:{line:85,column:21}}],line:85},"8":{loc:{start:{line:87,column:19},end:{line:87,column:46}},type:"binary-expr",locations:[{start:{line:87,column:19},end:{line:87,column:32}},{start:{line:87,column:39},end:{line:87,column:46}}],line:87},"9":{loc:{start:{line:88,column:19},end:{line:88,column:49}},type:"binary-expr",locations:[{start:{line:88,column:19},end:{line:88,column:32}},{start:{line:88,column:39},end:{line:88,column:49}}],line:88},"10":{loc:{start:{line:89,column:19},end:{line:89,column:46}},type:"binary-expr",locations:[{start:{line:89,column:19},end:{line:89,column:30}},{start:{line:89,column:39},end:{line:89,column:46}}],line:89},"11":{loc:{start:{line:90,column:19},end:{line:90,column:50}},type:"binary-expr",locations:[{start:{line:90,column:19},end:{line:90,column:28}},{start:{line:90,column:39},end:{line:90,column:50}}],line:90},"12":{loc:{start:{line:91,column:19},end:{line:91,column:45}},type:"binary-expr",locations:[{start:{line:91,column:19},end:{line:91,column:28}},{start:{line:91,column:39},end:{line:91,column:45}}],line:91},"13":{loc:{start:{line:92,column:19},end:{line:92,column:48}},type:"binary-expr",locations:[{start:{line:92,column:19},end:{line:92,column:31}},{start:{line:92,column:39},end:{line:92,column:48}}],line:92},"14":{loc:{start:{line:107,column:8},end:{line:111,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:111,column:9}},{start:{line:107,column:8},end:{line:111,column:9}}],line:107},"15":{loc:{start:{line:107,column:12},end:{line:107,column:27}},type:"binary-expr",locations:[{start:{line:107,column:12},end:{line:107,column:15}},{start:{line:107,column:19},end:{line:107,column:27}}],line:107},"16":{loc:{start:{line:109,column:17},end:{line:109,column:38}},type:"binary-expr",locations:[{start:{line:109,column:17},end:{line:109,column:20}},{start:{line:109,column:24},end:{line:109,column:38}}],line:109},"17":{loc:{start:{line:129,column:0},end:{line:131,column:1}},type:"if",locations:[{start:{line:129,column:0},end:{line:131,column:1}},{start:{line:129,column:0},end:{line:131,column:1}}],line:129}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"84b1d9ac382f55e7af08ddaa3fe0b6393cf1dec8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_23gd34sq0v=function(){return actualCoverage;};}return actualCoverage;}cov_23gd34sq0v();// Copyright 2011 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
// This example shows a simple log handler that will print to the console
// as well as log the information to a Splunk instance.
var splunkjs=(cov_23gd34sq0v().s[0]++,require('../../../index'));var Logger=(cov_23gd34sq0v().s[1]++,splunkjs.Class.extend({init:function(service,opts){cov_23gd34sq0v().f[0]++;cov_23gd34sq0v().s[2]++;this.service=service;cov_23gd34sq0v().s[3]++;opts=(cov_23gd34sq0v().b[0][0]++,opts)||(cov_23gd34sq0v().b[0][1]++,{});cov_23gd34sq0v().s[4]++;this.params={};cov_23gd34sq0v().s[5]++;if(opts.index){cov_23gd34sq0v().b[1][0]++;cov_23gd34sq0v().s[6]++;this.params.index=opts.index;}else{cov_23gd34sq0v().b[1][1]++;}cov_23gd34sq0v().s[7]++;if(opts.host){cov_23gd34sq0v().b[2][0]++;cov_23gd34sq0v().s[8]++;this.params.host=opts.host;}else{cov_23gd34sq0v().b[2][1]++;}cov_23gd34sq0v().s[9]++;if(opts.source){cov_23gd34sq0v().b[3][0]++;cov_23gd34sq0v().s[10]++;this.params.source=opts.source;}else{cov_23gd34sq0v().b[3][1]++;}cov_23gd34sq0v().s[11]++;if(opts.sourcetype){cov_23gd34sq0v().b[4][0]++;cov_23gd34sq0v().s[12]++;this.params.sourcetype=(cov_23gd34sq0v().b[5][0]++,opts.sourcetype)||(cov_23gd34sq0v().b[5][1]++,"demo-logger");}else{cov_23gd34sq0v().b[4][1]++;}cov_23gd34sq0v().s[13]++;if(!this.service){cov_23gd34sq0v().b[6][0]++;cov_23gd34sq0v().s[14]++;throw new Error("Must supply a valid service");}else{cov_23gd34sq0v().b[6][1]++;}},log:function(data){cov_23gd34sq0v().f[1]++;var message=(cov_23gd34sq0v().s[15]++,{__time:new Date().toUTCString(),level:"LOG",data:data});cov_23gd34sq0v().s[16]++;this.service.log(message,this.params);cov_23gd34sq0v().s[17]++;console.log(data);},error:function(data){cov_23gd34sq0v().f[2]++;var message=(cov_23gd34sq0v().s[18]++,{__time:new Date().toUTCString(),level:"ERROR",data:data});cov_23gd34sq0v().s[19]++;this.service.log(message,this.params);cov_23gd34sq0v().s[20]++;console.error(data);},info:function(data){cov_23gd34sq0v().f[3]++;var message=(cov_23gd34sq0v().s[21]++,{__time:new Date().toUTCString(),level:"INFO",data:data});cov_23gd34sq0v().s[22]++;this.service.log(message,this.params);cov_23gd34sq0v().s[23]++;console.info(data);},warn:function(data){cov_23gd34sq0v().f[4]++;var message=(cov_23gd34sq0v().s[24]++,{__time:new Date().toUTCString(),level:"WARN",data:data});cov_23gd34sq0v().s[25]++;this.service.log(message,this.params);cov_23gd34sq0v().s[26]++;console.warn(data);}}));cov_23gd34sq0v().s[27]++;exports.main=function(opts,done){cov_23gd34sq0v().f[5]++;cov_23gd34sq0v().s[28]++;// This is just for testing - ignore it
opts=(cov_23gd34sq0v().b[7][0]++,opts)||(cov_23gd34sq0v().b[7][1]++,{});var username=(cov_23gd34sq0v().s[29]++,(cov_23gd34sq0v().b[8][0]++,opts.username)||(cov_23gd34sq0v().b[8][1]++,"admin"));var password=(cov_23gd34sq0v().s[30]++,(cov_23gd34sq0v().b[9][0]++,opts.password)||(cov_23gd34sq0v().b[9][1]++,"changed!"));var scheme=(cov_23gd34sq0v().s[31]++,(cov_23gd34sq0v().b[10][0]++,opts.scheme)||(cov_23gd34sq0v().b[10][1]++,"https"));var host=(cov_23gd34sq0v().s[32]++,(cov_23gd34sq0v().b[11][0]++,opts.host)||(cov_23gd34sq0v().b[11][1]++,"localhost"));var port=(cov_23gd34sq0v().s[33]++,(cov_23gd34sq0v().b[12][0]++,opts.port)||(cov_23gd34sq0v().b[12][1]++,"8089"));var version=(cov_23gd34sq0v().s[34]++,(cov_23gd34sq0v().b[13][0]++,opts.version)||(cov_23gd34sq0v().b[13][1]++,"default"));var service=(cov_23gd34sq0v().s[35]++,new splunkjs.Service({username:username,password:password,scheme:scheme,host:host,port:port,version:version}));// First, we log in
cov_23gd34sq0v().s[36]++;service.login(function(err,success){cov_23gd34sq0v().f[6]++;cov_23gd34sq0v().s[37]++;// We check for both errors in the connection as well
// as if the login itself failed.
if((cov_23gd34sq0v().b[15][0]++,err)||(cov_23gd34sq0v().b[15][1]++,!success)){cov_23gd34sq0v().b[14][0]++;cov_23gd34sq0v().s[38]++;console.log("Error in logging in");cov_23gd34sq0v().s[39]++;done((cov_23gd34sq0v().b[16][0]++,err)||(cov_23gd34sq0v().b[16][1]++,"Login failed"));cov_23gd34sq0v().s[40]++;return;}else{cov_23gd34sq0v().b[14][1]++;}// Create our logger
var logger=(cov_23gd34sq0v().s[41]++,new Logger(service,{sourcetype:"mylogger",source:"test"}));// Log the various types of messages. Note how we are sending
// both strings and JSON objects, which will be auto-encoded and
// understood by Splunk 4.3+
cov_23gd34sq0v().s[42]++;logger.log({hello:"world"});cov_23gd34sq0v().s[43]++;logger.error("ERROR HAPPENED");cov_23gd34sq0v().s[44]++;logger.info(["useful","info"]);cov_23gd34sq0v().s[45]++;logger.warn({"this":{"is":["a","warning"]}});// Say we are done with this sample.
cov_23gd34sq0v().s[46]++;done();});};cov_23gd34sq0v().s[47]++;if(module===require.main){cov_23gd34sq0v().b[17][0]++;cov_23gd34sq0v().s[48]++;exports.main({},function(){cov_23gd34sq0v().f[7]++;});}else{cov_23gd34sq0v().b[17][1]++;}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZy5qcyJdLCJuYW1lcyI6WyJzcGx1bmtqcyIsInJlcXVpcmUiLCJMb2dnZXIiLCJDbGFzcyIsImV4dGVuZCIsImluaXQiLCJzZXJ2aWNlIiwib3B0cyIsInBhcmFtcyIsImluZGV4IiwiaG9zdCIsInNvdXJjZSIsInNvdXJjZXR5cGUiLCJFcnJvciIsImxvZyIsImRhdGEiLCJtZXNzYWdlIiwiX190aW1lIiwiRGF0ZSIsInRvVVRDU3RyaW5nIiwibGV2ZWwiLCJjb25zb2xlIiwiZXJyb3IiLCJpbmZvIiwid2FybiIsImV4cG9ydHMiLCJtYWluIiwiZG9uZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzY2hlbWUiLCJwb3J0IiwidmVyc2lvbiIsIlNlcnZpY2UiLCJsb2dpbiIsImVyciIsInN1Y2Nlc3MiLCJsb2dnZXIiLCJoZWxsbyIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6ImtuUkFlWTsyRkFkWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSxHQUFJQSxDQUFBQSxRQUFRLDBCQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBVixDQUFaLENBRUEsR0FBSUMsQ0FBQUEsTUFBTSwwQkFBR0YsUUFBUSxDQUFDRyxLQUFULENBQWVDLE1BQWYsQ0FBc0IsQ0FDL0JDLElBQUksQ0FBRSxTQUFTQyxPQUFULENBQWtCQyxJQUFsQixDQUF3QixpREFDMUIsS0FBS0QsT0FBTCxDQUFlQSxPQUFmLENBRDBCLHdCQUcxQkMsSUFBSSxDQUFHLDRCQUFBQSxJQUFJLCtCQUFJLEVBQUosQ0FBWCxDQUgwQix3QkFLMUIsS0FBS0MsTUFBTCxDQUFjLEVBQWQsQ0FMMEIsd0JBTTFCLEdBQUlELElBQUksQ0FBQ0UsS0FBVCxDQUFxQixvREFBRSxLQUFLRCxNQUFMLENBQVlDLEtBQVosQ0FBeUJGLElBQUksQ0FBQ0UsS0FBOUIsQ0FBc0MsQ0FBN0QsaUNBTjBCLHdCQU8xQixHQUFJRixJQUFJLENB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LE9BQVgsQ0FBb0IsQ0FBRU0sVUFBVSxDQUFFLFVBQWQsQ0FBMEJELE1BQU0sQ0FBRSxNQUFsQyxDQUFwQixDQUFILENBQVYsQ0FFQTtBQUNBO0FBQ0E7QUFkaUMseUJBZWpDMEIsTUFBTSxDQUFDdkIsR0FBUCxDQUFXLENBQUN3QixLQUFLLENBQUUsT0FBUixDQUFYLEVBZmlDLHlCQWdCakNELE1BQU0sQ0FBQ2YsS0FBUCxDQUFhLGdCQUFiLEVBaEJpQyx5QkFpQmpDZSxNQUFNLENBQUNkLElBQVAsQ0FBWSxDQUFDLFFBQUQsQ0FBVyxNQUFYLENBQVosRUFqQmlDLHlCQWtCakNjLE1BQU0sQ0FBQ2IsSUFBUCxDQUFZLENBQUMsT0FBUSxDQUFDLEtBQU0sQ0FBQyxHQUFELENBQU0sU0FBTixDQUFQLENBQVQsQ0FBWixFQUVBO0FBcEJpQyx5QkFxQmpDRyxJQUFJLEdBQ1AsQ0F0QkQsRUF1QkgsQ0E1Q0QsQyx5QkE4Q0EsR0FBSVksTUFBTSxHQUFLdEMsT0FBTyxDQUFDeUIsSUFBdkIsQ0FBNkIsc0RBQ3pCRCxPQUFPLENBQUNDLElBQVIsQ0FBYSxFQUFiLENBQWlCLFVBQVcseUJBQUUsQ0FBOUIsRUFDSCxDQUZEIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBDb3B5cmlnaHQgMjAxMSBTcGx1bmssIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOiB5b3UgbWF5XG4vLyBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpblxuLy8gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuLy8gV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4vLyBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vIFRoaXMgZXhhbXBsZSBzaG93cyBhIHNpbXBsZSBsb2cgaGFuZGxlciB0aGF0IHdpbGwgcHJpbnQgdG8gdGhlIGNvbnNvbGVcbi8vIGFzIHdlbGwgYXMgbG9nIHRoZSBpbmZvcm1hdGlvbiB0byBhIFNwbHVuayBpbnN0YW5jZS5cblxudmFyIHNwbHVua2pzID0gcmVxdWlyZSgnLi4vLi4vLi4vaW5kZXgnKTtcblxudmFyIExvZ2dlciA9IHNwbHVua2pzLkNsYXNzLmV4dGVuZCh7XG4gICAgaW5pdDogZnVuY3Rpb24oc2VydmljZSwgb3B0cykge1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgICAgICBcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9O1xuICAgICAgICBpZiAob3B0cy5pbmRleCkgICAgICB7IHRoaXMucGFyYW1zLmluZGV4ICAgICAgPSBvcHRzLmluZGV4OyB9XG4gICAgICAgIGlmIChvcHRzLmhvc3QpICAgICAgIHsgdGhpcy5wYXJhbXMuaG9zdCAgICAgICA9IG9wdHMuaG9zdDsgfVxuICAgICAgICBpZiAob3B0cy5zb3VyY2UpICAgICB7IHRoaXMucGFyYW1zLnNvdXJjZSAgICAgPSBvcHRzLnNvdXJjZTsgfVxuICAgICAgICBpZiAob3B0cy5zb3VyY2V0eXBlKSB7IHRoaXMucGFyYW1zLnNvdXJjZXR5cGUgPSBvcHRzLnNvdXJjZXR5cGUgfHwgXCJkZW1vLWxvZ2dlclwiOyB9XG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMuc2VydmljZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzdXBwbHkgYSB2YWxpZCBzZXJ2aWNlXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBsb2c6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBfX3RpbWU6IChuZXcgRGF0ZSgpKS50b1VUQ1N0cmluZygpLFxuICAgICAgICAgICAgbGV2ZWw6IFwiTE9HXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNlcnZpY2UubG9nKG1lc3NhZ2UsIHRoaXMucGFyYW1zKTtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgfSxcbiAgICBcbiAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgIF9fdGltZTogKG5ldyBEYXRlKCkpLnRvVVRDU3RyaW5nKCksXG4gICAgICAgICAgICBsZXZlbDogXCJFUlJPUlwiLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXJ2aWNlLmxvZyhtZXNzYWdlLCB0aGlzLnBhcmFtcyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZGF0YSk7XG4gICAgfSxcbiAgICBcbiAgICBpbmZvOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgICAgICAgX190aW1lOiAobmV3IERhdGUoKSkudG9VVENTdHJpbmcoKSxcbiAgICAgICAgICAgIGxldmVsOiBcIklORk9cIixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2VydmljZS5sb2cobWVzc2FnZSwgdGhpcy5wYXJhbXMpO1xuICAgICAgICBjb25zb2xlLmluZm8oZGF0YSk7XG4gICAgfSxcbiAgICBcbiAgICB3YXJuOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgICAgICAgX190aW1lOiAobmV3IERhdGUoKSkudG9VVENTdHJpbmcoKSxcbiAgICAgICAgICAgIGxldmVsOiBcIldBUk5cIixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2VydmljZS5sb2cobWVzc2FnZSwgdGhpcy5wYXJhbXMpO1xuICAgICAgICBjb25zb2xlLndhcm4oZGF0YSk7XG4gICAgfVxufSk7XG5cbmV4cG9ydHMubWFpbiA9IGZ1bmN0aW9uKG9wdHMsIGRvbmUpIHtcbiAgICAvLyBUaGlzIGlzIGp1c3QgZm9yIHRlc3RpbmcgLSBpZ25vcmUgaXRcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBcbiAgICB2YXIgdXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lICAgIHx8IFwiYWRtaW5cIjtcbiAgICB2YXIgcGFzc3dvcmQgPSBvcHRzLnBhc3N3b3JkICAgIHx8IFwiY2hhbmdlZCFcIjtcbiAgICB2YXIgc2NoZW1lICAgPSBvcHRzLnNjaGVtZSAgICAgIHx8IFwiaHR0cHNcIjtcbiAgICB2YXIgaG9zdCAgICAgPSBvcHRzLmhvc3QgICAgICAgIHx8IFwibG9jYWxob3N0XCI7XG4gICAgdmFyIHBvcnQgICAgID0gb3B0cy5wb3J0ICAgICAgICB8fCBcIjgwODlcIjtcbiAgICB2YXIgdmVyc2lvbiAgPSBvcHRzLnZlcnNpb24gICAgIHx8IFwiZGVmYXVsdFwiO1xuICAgIFxuICAgIHZhciBzZXJ2aWNlID0gbmV3IHNwbHVua2pzLlNlcnZpY2Uoe1xuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgc2NoZW1lOiBzY2hlbWUsXG4gICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb25cbiAgICB9KTtcblxuICAgIC8vIEZpcnN0LCB3ZSBsb2cgaW5cbiAgICBzZXJ2aWNlLmxvZ2luKGZ1bmN0aW9uKGVyciwgc3VjY2Vzcykge1xuICAgICAgICAvLyBXZSBjaGVjayBmb3IgYm90aCBlcnJvcnMgaW4gdGhlIGNvbm5lY3Rpb24gYXMgd2VsbFxuICAgICAgICAvLyBhcyBpZiB0aGUgbG9naW4gaXRzZWxmIGZhaWxlZC5cbiAgICAgICAgaWYgKGVyciB8fCAhc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBpbiBsb2dnaW5nIGluXCIpO1xuICAgICAgICAgICAgZG9uZShlcnIgfHwgXCJMb2dpbiBmYWlsZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgb3VyIGxvZ2dlclxuICAgICAgICB2YXIgbG9nZ2VyID0gbmV3IExvZ2dlcihzZXJ2aWNlLCB7IHNvdXJjZXR5cGU6IFwibXlsb2dnZXJcIiwgc291cmNlOiBcInRlc3RcIiB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIExvZyB0aGUgdmFyaW91cyB0eXBlcyBvZiBtZXNzYWdlcy4gTm90ZSBob3cgd2UgYXJlIHNlbmRpbmdcbiAgICAgICAgLy8gYm90aCBzdHJpbmdzIGFuZCBKU09OIG9iamVjdHMsIHdoaWNoIHdpbGwgYmUgYXV0by1lbmNvZGVkIGFuZFxuICAgICAgICAvLyB1bmRlcnN0b29kIGJ5IFNwbHVuayA0LjMrXG4gICAgICAgIGxvZ2dlci5sb2coe2hlbGxvOiBcIndvcmxkXCJ9KTtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiRVJST1IgSEFQUEVORURcIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFtcInVzZWZ1bFwiLCBcImluZm9cIl0pO1xuICAgICAgICBsb2dnZXIud2Fybih7XCJ0aGlzXCI6IHtcImlzXCI6IFtcImFcIiwgXCJ3YXJuaW5nXCJdfX0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2F5IHdlIGFyZSBkb25lIHdpdGggdGhpcyBzYW1wbGUuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcbn07XG5cbmlmIChtb2R1bGUgPT09IHJlcXVpcmUubWFpbikge1xuICAgIGV4cG9ydHMubWFpbih7fSwgZnVuY3Rpb24oKSB7fSk7XG59Il19