function cov_2flnel9kb7(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/lib/platform/node/node_http.js";var hash="c46e7492454d87d4352b7c58bc3bb50cd447dea2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/lib/platform/node/node_http.js",statementMap:{"0":{start:{line:16,column:0},end:{line:114,column:5}},"1":{start:{line:17,column:17},end:{line:17,column:34}},"2":{start:{line:18,column:18},end:{line:18,column:39}},"3":{start:{line:19,column:18},end:{line:19,column:40}},"4":{start:{line:21,column:15},end:{line:21,column:30}},"5":{start:{line:23,column:4},end:{line:113,column:7}},"6":{start:{line:25,column:12},end:{line:25,column:26}},"7":{start:{line:29,column:34},end:{line:39,column:13}},"8":{start:{line:42,column:12},end:{line:42,column:104}},"9":{start:{line:44,column:12},end:{line:46,column:13}},"10":{start:{line:45,column:16},end:{line:45,column:55}},"11":{start:{line:48,column:23},end:{line:48,column:27}},"12":{start:{line:49,column:22},end:{line:72,column:14}},"13":{start:{line:53,column:16},end:{line:55,column:17}},"14":{start:{line:54,column:20},end:{line:54,column:27}},"15":{start:{line:57,column:31},end:{line:60,column:17}},"16":{start:{line:64,column:16},end:{line:69,column:17}},"17":{start:{line:65,column:20},end:{line:65,column:83}},"18":{start:{line:68,column:20},end:{line:68,column:99}},"19":{start:{line:71,column:16},end:{line:71,column:44}},"20":{start:{line:74,column:12},end:{line:83,column:13}},"21":{start:{line:75,column:26},end:{line:75,column:62}},"22":{start:{line:76,column:27},end:{line:76,column:31}},"23":{start:{line:77,column:40},end:{line:77,column:79}},"24":{start:{line:79,column:16},end:{line:79,column:44}},"25":{start:{line:82,column:16},end:{line:82,column:38}},"26":{start:{line:85,column:12},end:{line:85,column:23}},"27":{start:{line:89,column:34},end:{line:99,column:13}},"28":{start:{line:102,column:12},end:{line:102,column:104}},"29":{start:{line:104,column:23},end:{line:104,column:27}},"30":{start:{line:105,column:27},end:{line:105,column:117}},"31":{start:{line:107,column:12},end:{line:107,column:28}},"32":{start:{line:111,column:12},end:{line:111,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:1},end:{line:16,column:2}},loc:{start:{line:16,column:12},end:{line:114,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:24,column:14},end:{line:24,column:15}},loc:{start:{line:24,column:25},end:{line:26,column:9}},line:24},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:21},end:{line:28,column:22}},loc:{start:{line:28,column:54},end:{line:86,column:9}},line:28},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:51,column:16},end:{line:72,column:13}},line:51},"4":{name:"(anonymous_4)",decl:{start:{line:74,column:24},end:{line:74,column:25}},loc:{start:{line:74,column:36},end:{line:83,column:13}},line:74},"5":{name:"(anonymous_5)",decl:{start:{line:88,column:26},end:{line:88,column:27}},loc:{start:{line:88,column:55},end:{line:108,column:9}},line:88},"6":{name:"(anonymous_6)",decl:{start:{line:110,column:19},end:{line:110,column:20}},loc:{start:{line:110,column:34},end:{line:112,column:9}},line:110}},branchMap:{"0":{loc:{start:{line:21,column:15},end:{line:21,column:30}},type:"binary-expr",locations:[{start:{line:21,column:15},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:30}}],line:21},"1":{loc:{start:{line:32,column:25},end:{line:32,column:46}},type:"binary-expr",locations:[{start:{line:32,column:25},end:{line:32,column:40}},{start:{line:32,column:44},end:{line:32,column:46}}],line:32},"2":{loc:{start:{line:33,column:22},end:{line:33,column:40}},type:"binary-expr",locations:[{start:{line:33,column:22},end:{line:33,column:34}},{start:{line:33,column:38},end:{line:33,column:40}}],line:33},"3":{loc:{start:{line:34,column:25},end:{line:34,column:45}},type:"binary-expr",locations:[{start:{line:34,column:25},end:{line:34,column:40}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},"4":{loc:{start:{line:44,column:12},end:{line:46,column:13}},type:"if",locations:[{start:{line:44,column:12},end:{line:46,column:13}},{start:{line:44,column:12},end:{line:46,column:13}}],line:44},"5":{loc:{start:{line:44,column:15},end:{line:44,column:82}},type:"binary-expr",locations:[{start:{line:44,column:15},end:{line:44,column:28}},{start:{line:44,column:32},end:{line:44,column:82}}],line:44},"6":{loc:{start:{line:53,column:16},end:{line:55,column:17}},type:"if",locations:[{start:{line:53,column:16},end:{line:55,column:17}},{start:{line:53,column:16},end:{line:55,column:17}}],line:53},"7":{loc:{start:{line:58,column:29},end:{line:58,column:51}},type:"cond-expr",locations:[{start:{line:58,column:35},end:{line:58,column:46}},{start:{line:58,column:49},end:{line:58,column:51}}],line:58},"8":{loc:{start:{line:59,column:32},end:{line:59,column:58}},type:"cond-expr",locations:[{start:{line:59,column:38},end:{line:59,column:52}},{start:{line:59,column:55},end:{line:59,column:58}}],line:59},"9":{loc:{start:{line:64,column:16},end:{line:69,column:17}},type:"if",locations:[{start:{line:64,column:16},end:{line:69,column:17}},{start:{line:64,column:16},end:{line:69,column:17}}],line:64},"10":{loc:{start:{line:64,column:19},end:{line:64,column:86}},type:"binary-expr",locations:[{start:{line:64,column:19},end:{line:64,column:32}},{start:{line:64,column:36},end:{line:64,column:86}}],line:64},"11":{loc:{start:{line:92,column:25},end:{line:92,column:46}},type:"binary-expr",locations:[{start:{line:92,column:25},end:{line:92,column:40}},{start:{line:92,column:44},end:{line:92,column:46}}],line:92},"12":{loc:{start:{line:93,column:22},end:{line:93,column:40}},type:"binary-expr",locations:[{start:{line:93,column:22},end:{line:93,column:34}},{start:{line:93,column:38},end:{line:93,column:40}}],line:93},"13":{loc:{start:{line:94,column:25},end:{line:94,column:45}},type:"binary-expr",locations:[{start:{line:94,column:25},end:{line:94,column:40}},{start:{line:94,column:44},end:{line:94,column:45}}],line:94}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c46e7492454d87d4352b7c58bc3bb50cd447dea2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2flnel9kb7=function(){return actualCoverage;};}return actualCoverage;}cov_2flnel9kb7();cov_2flnel9kb7().s[0]++;// Copyright 2011 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
(function(){cov_2flnel9kb7().f[0]++;var needle=(cov_2flnel9kb7().s[1]++,require('needle'));var Http=(cov_2flnel9kb7().s[2]++,require('../../http'));var utils=(cov_2flnel9kb7().s[3]++,require('../../utils'));var root=(cov_2flnel9kb7().s[4]++,(cov_2flnel9kb7().b[0][0]++,exports)||(cov_2flnel9kb7().b[0][1]++,this));cov_2flnel9kb7().s[5]++;root.NodeHttp=Http.extend({init:function(){cov_2flnel9kb7().f[1]++;cov_2flnel9kb7().s[6]++;this._super();},makeRequest:function(url,message,callback){cov_2flnel9kb7().f[2]++;var request_options=(cov_2flnel9kb7().s[7]++,{url:url,method:message.method,headers:(cov_2flnel9kb7().b[1][0]++,message.headers)||(cov_2flnel9kb7().b[1][1]++,{}),body:(cov_2flnel9kb7().b[2][0]++,message.body)||(cov_2flnel9kb7().b[2][1]++,""),timeout:(cov_2flnel9kb7().b[3][0]++,message.timeout)||(cov_2flnel9kb7().b[3][1]++,0),jar:false,followAllRedirects:true,strictSSL:false,rejectUnauthorized:false});// Get the byte-length of the content, which adjusts for multi-byte characters
cov_2flnel9kb7().s[8]++;request_options.headers["Content-Length"]=Buffer.byteLength(request_options.body,"utf8");cov_2flnel9kb7().s[9]++;if((cov_2flnel9kb7().b[5][0]++,message.query)&&(cov_2flnel9kb7().b[5][1]++,["xml","csv"].includes(message.query.output_mode))){cov_2flnel9kb7().b[4][0]++;cov_2flnel9kb7().s[10]++;request_options.parse_response=false;}else{cov_2flnel9kb7().b[4][1]++;}var that=(cov_2flnel9kb7().s[11]++,this);var req=(cov_2flnel9kb7().s[12]++,needle.request(request_options.method,request_options.url,request_options.body,request_options,function(error,res,data){cov_2flnel9kb7().f[3]++;cov_2flnel9kb7().s[13]++;// If we already aborted this request, then do nothing
if(req.wasAborted){cov_2flnel9kb7().b[6][0]++;cov_2flnel9kb7().s[14]++;return;}else{cov_2flnel9kb7().b[6][1]++;}var response=(cov_2flnel9kb7().s[15]++,{headers:res?(cov_2flnel9kb7().b[7][0]++,res.headers):(cov_2flnel9kb7().b[7][1]++,{}),statusCode:res?(cov_2flnel9kb7().b[8][0]++,res.statusCode):(cov_2flnel9kb7().b[8][1]++,600)});var complete_response;cov_2flnel9kb7().s[16]++;if((cov_2flnel9kb7().b[10][0]++,message.query)&&(cov_2flnel9kb7().b[10][1]++,["xml","csv"].includes(message.query.output_mode))){cov_2flnel9kb7().b[9][0]++;cov_2flnel9kb7().s[17]++;complete_response=that._buildResponse(error,response,data);}else{cov_2flnel9kb7().b[9][1]++;cov_2flnel9kb7().s[18]++;complete_response=that._buildResponse(error,response,JSON.stringify(data));}cov_2flnel9kb7().s[19]++;callback(complete_response);}));cov_2flnel9kb7().s[20]++;req.abort=function(){cov_2flnel9kb7().f[4]++;var res=(cov_2flnel9kb7().s[21]++,{headers:{},statusCode:"abort"});var data=(cov_2flnel9kb7().s[22]++,"{}");var complete_response=(cov_2flnel9kb7().s[23]++,that._buildResponse("abort",res,data));cov_2flnel9kb7().s[24]++;callback(complete_response);// Note that we were aborted
cov_2flnel9kb7().s[25]++;req.wasAborted=true;};cov_2flnel9kb7().s[26]++;return req;},makeRequestAsync:async function(url,message){cov_2flnel9kb7().f[5]++;var request_options=(cov_2flnel9kb7().s[27]++,{url:url,method:message.method,headers:(cov_2flnel9kb7().b[11][0]++,message.headers)||(cov_2flnel9kb7().b[11][1]++,{}),body:(cov_2flnel9kb7().b[12][0]++,message.body)||(cov_2flnel9kb7().b[12][1]++,""),timeout:(cov_2flnel9kb7().b[13][0]++,message.timeout)||(cov_2flnel9kb7().b[13][1]++,0),jar:false,followAllRedirects:true,strictSSL:false,rejectUnauthorized:false});// Get the byte-length of the content, which adjusts for multi-byte characters
cov_2flnel9kb7().s[28]++;request_options.headers["Content-Length"]=Buffer.byteLength(request_options.body,"utf8");var that=(cov_2flnel9kb7().s[29]++,this);var response=(cov_2flnel9kb7().s[30]++,needle(request_options.method,request_options.url,request_options.body,request_options));cov_2flnel9kb7().s[31]++;return response;},parseJson:function(json){cov_2flnel9kb7().f[6]++;cov_2flnel9kb7().s[32]++;return JSON.parse(json);}});})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfaHR0cC5qcyJdLCJuYW1lcyI6WyJuZWVkbGUiLCJyZXF1aXJlIiwiSHR0cCIsInV0aWxzIiwicm9vdCIsImV4cG9ydHMiLCJOb2RlSHR0cCIsImV4dGVuZCIsImluaXQiLCJfc3VwZXIiLCJtYWtlUmVxdWVzdCIsInVybCIsIm1lc3NhZ2UiLCJjYWxsYmFjayIsInJlcXVlc3Rfb3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwidGltZW91dCIsImphciIsImZvbGxvd0FsbFJlZGlyZWN0cyIsInN0cmljdFNTTCIsInJlamVjdFVuYXV0aG9yaXplZCIsIkJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJxdWVyeSIsImluY2x1ZGVzIiwib3V0cHV0X21vZGUiLCJwYXJzZV9yZXNwb25zZSIsInRoYXQiLCJyZXEiLCJyZXF1ZXN0IiwiZXJyb3IiLCJyZXMiLCJkYXRhIiwid2FzQWJvcnRlZCIsInJlc3BvbnNlIiwic3RhdHVzQ29kZSIsImNvbXBsZXRlX3Jlc3BvbnNlIiwiX2J1aWxkUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvcnQiLCJtYWtlUmVxdWVzdEFzeW5jIiwicGFyc2VKc29uIiwianNvbiIsInBhcnNlIl0sIm1hcHBpbmdzIjoic3FOQWVZO21IQWRaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsQ0FBQyxVQUFXLHlCQUNSLEdBQUlBLENBQUFBLE1BQU0sMEJBQUdDLE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBVixDQUNBLEdBQUlDLENBQUFBLElBQUksMEJBQU1ELE9BQU8sQ0FBQyxZQUFELENBQWIsQ0FBUixDQUNBLEdBQUlFLENBQUFBLEtBQUssMEJBQUtGLE9BQU8sQ0FBQyxhQUFELENBQVosQ0FBVCxDQUVBLEdBQUlHLENBQUFBLElBQUksMEJBQUcsNEJBQUFDLE9BQU8sK0JBQUksSUFBSixDQUFWLENBQVIsQ0FMUSx3QkFPUkQsSUFBSSxDQUFD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QWUsQ0FBQ0gsR0FBekMsQ0FBOENHLGVBQWUsQ0FBQ0csSUFBOUQsQ0FBb0VILGVBQXBFLENBQVQsQ0FBWixDQWpCMkMseUJBbUIzQyxNQUFPc0IsQ0FBQUEsUUFBUCxDQUNILENBckZ1QixDQXVGeEJRLFNBQVMsQ0FBRSxTQUFTQyxJQUFULENBQWUsa0RBQ3RCLE1BQU9MLENBQUFBLElBQUksQ0FBQ00sS0FBTCxDQUFXRCxJQUFYLENBQVAsQ0FDSCxDQXpGdUIsQ0FBWixDQUFoQixDQTJGSCxDQWxHRCIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gQ29weXJpZ2h0IDIwMTEgU3BsdW5rLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTogeW91IG1heVxuLy8gbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW5cbi8vIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbi8vIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuLy8gTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5lZWRsZSA9IHJlcXVpcmUoJ25lZWRsZScpO1xuICAgIHZhciBIdHRwICAgID0gcmVxdWlyZSgnLi4vLi4vaHR0cCcpO1xuICAgIHZhciB1dGlscyAgID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxuICAgIHZhciByb290ID0gZXhwb3J0cyB8fCB0aGlzO1xuXG4gICAgcm9vdC5Ob2RlSHR0cCA9IEh0dHAuZXh0ZW5kKHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9zdXBlcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1ha2VSZXF1ZXN0OiBmdW5jdGlvbih1cmwsIG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdF9vcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWVzc2FnZS5tZXRob2QsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogbWVzc2FnZS5oZWFkZXJzIHx8IHt9LFxuICAgICAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2UuYm9keSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IG1lc3NhZ2UudGltZW91dCB8fCAwLFxuICAgICAgICAgICAgICAgIGphcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZm9sbG93QWxsUmVkaXJlY3RzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0cmljdFNTTDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkIDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgYnl0ZS1sZW5ndGggb2YgdGhlIGNvbnRlbnQsIHdoaWNoIGFkanVzdHMgZm9yIG11bHRpLWJ5dGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgcmVxdWVzdF9vcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LUxlbmd0aFwiXSA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHJlcXVlc3Rfb3B0aW9ucy5ib2R5LCBcInV0ZjhcIik7XG5cbiAgICAgICAgICAgIGlmKG1lc3NhZ2UucXVlcnkgJiYgW1wieG1sXCIsIFwiY3N2XCJdLmluY2x1ZGVzKG1lc3NhZ2UucXVlcnkub3V0cHV0X21vZGUpKXtcbiAgICAgICAgICAgICAgICByZXF1ZXN0X29wdGlvbnMucGFyc2VfcmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHJlcSA9IG5lZWRsZS5yZXF1ZXN0KHJlcXVlc3Rfb3B0aW9ucy5tZXRob2QsIHJlcXVlc3Rfb3B0aW9ucy51cmwsIHJlcXVlc3Rfb3B0aW9ucy5ib2R5LCByZXF1ZXN0X29wdGlvbnMsIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvciwgcmVzLCBkYXRhKSBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBhYm9ydGVkIHRoaXMgcmVxdWVzdCwgdGhlbiBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgaWYgKHJlcS53YXNBYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXMgPyByZXMuaGVhZGVycyA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiByZXMgPyByZXMuc3RhdHVzQ29kZSA6IDYwMFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGVfcmVzcG9uc2U7XG5cbiAgICAgICAgICAgICAgICBpZihtZXNzYWdlLnF1ZXJ5ICYmIFtcInhtbFwiLCBcImNzdlwiXS5pbmNsdWRlcyhtZXNzYWdlLnF1ZXJ5Lm91dHB1dF9tb2RlKSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlX3Jlc3BvbnNlID0gdGhhdC5fYnVpbGRSZXNwb25zZShlcnJvciwgcmVzcG9uc2UsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVfcmVzcG9uc2UgPSB0aGF0Ll9idWlsZFJlc3BvbnNlKGVycm9yLCByZXNwb25zZSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjb21wbGV0ZV9yZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmVxLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSB7IGhlYWRlcnM6IHt9LCBzdGF0dXNDb2RlOiBcImFib3J0XCIgfTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFwie31cIjtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGVfcmVzcG9uc2UgPSB0aGF0Ll9idWlsZFJlc3BvbnNlKFwiYWJvcnRcIiwgcmVzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjb21wbGV0ZV9yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIHdlcmUgYWJvcnRlZFxuICAgICAgICAgICAgICAgIHJlcS53YXNBYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcTtcbiAgICAgICAgfSxcblxuICAgICAgICBtYWtlUmVxdWVzdEFzeW5jOiBhc3luYyBmdW5jdGlvbih1cmwsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0X29wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXNzYWdlLm1ldGhvZCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBtZXNzYWdlLmhlYWRlcnMgfHwge30sXG4gICAgICAgICAgICAgICAgYm9keTogbWVzc2FnZS5ib2R5IHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgdGltZW91dDogbWVzc2FnZS50aW1lb3V0IHx8IDAsXG4gICAgICAgICAgICAgICAgamFyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmb2xsb3dBbGxSZWRpcmVjdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RyaWN0U1NMOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgYnl0ZS1sZW5ndGggb2YgdGhlIGNvbnRlbnQsIHdoaWNoIGFkanVzdHMgZm9yIG11bHRpLWJ5dGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgcmVxdWVzdF9vcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LUxlbmd0aFwiXSA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHJlcXVlc3Rfb3B0aW9ucy5ib2R5LCBcInV0ZjhcIik7XG5cbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciByZXNwb25zZSA9IG5lZWRsZShyZXF1ZXN0X29wdGlvbnMubWV0aG9kLCByZXF1ZXN0X29wdGlvbnMudXJsLCByZXF1ZXN0X29wdGlvbnMuYm9keSwgcmVxdWVzdF9vcHRpb25zKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlSnNvbjogZnVuY3Rpb24oanNvbikge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG4iXX0=