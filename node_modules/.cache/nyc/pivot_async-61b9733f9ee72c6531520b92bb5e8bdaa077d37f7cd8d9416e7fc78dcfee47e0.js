function cov_25js61zk7a(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/pivot_async.js";var hash="72d73476e7fddb2e3d48c4bf2e5bb5ab7988129d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/pivot_async.js",statementMap:{"0":{start:{line:27,column:15},end:{line:27,column:40}},"1":{start:{line:28,column:13},end:{line:28,column:27}},"2":{start:{line:30,column:0},end:{line:141,column:2}},"3":{start:{line:32,column:4},end:{line:32,column:22}},"4":{start:{line:34,column:19},end:{line:34,column:46}},"5":{start:{line:35,column:19},end:{line:35,column:49}},"6":{start:{line:36,column:19},end:{line:36,column:46}},"7":{start:{line:37,column:19},end:{line:37,column:50}},"8":{start:{line:38,column:19},end:{line:38,column:45}},"9":{start:{line:39,column:19},end:{line:39,column:48}},"10":{start:{line:41,column:18},end:{line:48,column:6}},"11":{start:{line:52,column:4},end:{line:140,column:6}},"12":{start:{line:55,column:16},end:{line:55,column:36}},"13":{start:{line:59,column:16},end:{line:61,column:17}},"14":{start:{line:60,column:20},end:{line:60,column:45}},"15":{start:{line:64,column:16},end:{line:64,column:49}},"16":{start:{line:68,column:25},end:{line:68,column:63}},"17":{start:{line:70,column:16},end:{line:70,column:55}},"18":{start:{line:72,column:16},end:{line:73,column:48}},"19":{start:{line:75,column:16},end:{line:75,column:74}},"20":{start:{line:76,column:16},end:{line:76,column:66}},"21":{start:{line:79,column:16},end:{line:79,column:59}},"22":{start:{line:82,column:16},end:{line:84,column:19}},"23":{start:{line:83,column:20},end:{line:83,column:42}},"24":{start:{line:88,column:16},end:{line:88,column:40}},"25":{start:{line:89,column:16},end:{line:99,column:17}},"26":{start:{line:89,column:29},end:{line:89,column:30}},"27":{start:{line:90,column:36},end:{line:90,column:58}},"28":{start:{line:91,column:30},end:{line:91,column:45}},"29":{start:{line:92,column:20},end:{line:96,column:21}},"30":{start:{line:92,column:33},end:{line:92,column:34}},"31":{start:{line:93,column:24},end:{line:95,column:25}},"32":{start:{line:94,column:28},end:{line:94,column:81}},"33":{start:{line:97,column:20},end:{line:97,column:43}},"34":{start:{line:98,column:20},end:{line:98,column:66}},"35":{start:{line:101,column:41},end:{line:101,column:76}},"36":{start:{line:103,column:16},end:{line:107,column:31}},"37":{start:{line:110,column:16},end:{line:110,column:102}},"38":{start:{line:111,column:16},end:{line:111,column:53}},"39":{start:{line:112,column:16},end:{line:114,column:19}},"40":{start:{line:113,column:20},end:{line:113,column:42}},"41":{start:{line:118,column:16},end:{line:118,column:40}},"42":{start:{line:119,column:16},end:{line:129,column:17}},"43":{start:{line:119,column:29},end:{line:119,column:30}},"44":{start:{line:120,column:36},end:{line:120,column:58}},"45":{start:{line:121,column:30},end:{line:121,column:45}},"46":{start:{line:122,column:20},end:{line:126,column:21}},"47":{start:{line:122,column:33},end:{line:122,column:34}},"48":{start:{line:123,column:24},end:{line:125,column:25}},"49":{start:{line:124,column:28},end:{line:124,column:81}},"50":{start:{line:127,column:20},end:{line:127,column:43}},"51":{start:{line:128,column:20},end:{line:128,column:66}},"52":{start:{line:130,column:16},end:{line:130,column:33}},"53":{start:{line:134,column:12},end:{line:137,column:13}},"54":{start:{line:135,column:16},end:{line:135,column:42}},"55":{start:{line:136,column:16},end:{line:136,column:30}},"56":{start:{line:138,column:12},end:{line:138,column:26}},"57":{start:{line:143,column:0},end:{line:145,column:1}},"58":{start:{line:144,column:4},end:{line:144,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:30,column:15},end:{line:30,column:16}},loc:{start:{line:30,column:40},end:{line:141,column:1}},line:30},"1":{name:"(anonymous_1)",decl:{start:{line:54,column:12},end:{line:54,column:13}},loc:{start:{line:54,column:27},end:{line:56,column:13}},line:54},"2":{name:"(anonymous_2)",decl:{start:{line:58,column:12},end:{line:58,column:13}},loc:{start:{line:58,column:36},end:{line:65,column:13}},line:58},"3":{name:"(anonymous_3)",decl:{start:{line:66,column:12},end:{line:66,column:13}},loc:{start:{line:66,column:39},end:{line:80,column:13}},line:66},"4":{name:"(anonymous_4)",decl:{start:{line:81,column:12},end:{line:81,column:13}},loc:{start:{line:81,column:32},end:{line:85,column:13}},line:81},"5":{name:"(anonymous_5)",decl:{start:{line:82,column:30},end:{line:82,column:31}},loc:{start:{line:82,column:44},end:{line:84,column:17}},line:82},"6":{name:"(anonymous_6)",decl:{start:{line:86,column:12},end:{line:86,column:13}},loc:{start:{line:86,column:41},end:{line:108,column:13}},line:86},"7":{name:"(anonymous_7)",decl:{start:{line:109,column:12},end:{line:109,column:13}},loc:{start:{line:109,column:39},end:{line:115,column:13}},line:109},"8":{name:"(anonymous_8)",decl:{start:{line:112,column:30},end:{line:112,column:31}},loc:{start:{line:112,column:44},end:{line:114,column:17}},line:112},"9":{name:"(anonymous_9)",decl:{start:{line:116,column:12},end:{line:116,column:13}},loc:{start:{line:116,column:41},end:{line:131,column:13}},line:116},"10":{name:"(anonymous_10)",decl:{start:{line:133,column:8},end:{line:133,column:9}},loc:{start:{line:133,column:22},end:{line:139,column:9}},line:133},"11":{name:"(anonymous_11)",decl:{start:{line:144,column:21},end:{line:144,column:22}},loc:{start:{line:144,column:32},end:{line:144,column:34}},line:144}},branchMap:{"0":{loc:{start:{line:32,column:11},end:{line:32,column:21}},type:"binary-expr",locations:[{start:{line:32,column:11},end:{line:32,column:15}},{start:{line:32,column:19},end:{line:32,column:21}}],line:32},"1":{loc:{start:{line:34,column:19},end:{line:34,column:46}},type:"binary-expr",locations:[{start:{line:34,column:19},end:{line:34,column:32}},{start:{line:34,column:39},end:{line:34,column:46}}],line:34},"2":{loc:{start:{line:35,column:19},end:{line:35,column:49}},type:"binary-expr",locations:[{start:{line:35,column:19},end:{line:35,column:32}},{start:{line:35,column:39},end:{line:35,column:49}}],line:35},"3":{loc:{start:{line:36,column:19},end:{line:36,column:46}},type:"binary-expr",locations:[{start:{line:36,column:19},end:{line:36,column:30}},{start:{line:36,column:39},end:{line:36,column:46}}],line:36},"4":{loc:{start:{line:37,column:19},end:{line:37,column:50}},type:"binary-expr",locations:[{start:{line:37,column:19},end:{line:37,column:28}},{start:{line:37,column:39},end:{line:37,column:50}}],line:37},"5":{loc:{start:{line:38,column:19},end:{line:38,column:45}},type:"binary-expr",locations:[{start:{line:38,column:19},end:{line:38,column:28}},{start:{line:38,column:39},end:{line:38,column:45}}],line:38},"6":{loc:{start:{line:39,column:19},end:{line:39,column:48}},type:"binary-expr",locations:[{start:{line:39,column:19},end:{line:39,column:31}},{start:{line:39,column:39},end:{line:39,column:48}}],line:39},"7":{loc:{start:{line:59,column:16},end:{line:61,column:17}},type:"if",locations:[{start:{line:59,column:16},end:{line:61,column:17}},{start:{line:59,column:16},end:{line:61,column:17}}],line:59},"8":{loc:{start:{line:93,column:24},end:{line:95,column:25}},type:"if",locations:[{start:{line:93,column:24},end:{line:95,column:25}},{start:{line:93,column:24},end:{line:95,column:25}}],line:93},"9":{loc:{start:{line:93,column:28},end:{line:93,column:67}},type:"binary-expr",locations:[{start:{line:93,column:28},end:{line:93,column:43}},{start:{line:93,column:47},end:{line:93,column:67}}],line:93},"10":{loc:{start:{line:123,column:24},end:{line:125,column:25}},type:"if",locations:[{start:{line:123,column:24},end:{line:125,column:25}},{start:{line:123,column:24},end:{line:125,column:25}}],line:123},"11":{loc:{start:{line:123,column:28},end:{line:123,column:67}},type:"binary-expr",locations:[{start:{line:123,column:28},end:{line:123,column:43}},{start:{line:123,column:47},end:{line:123,column:67}}],line:123},"12":{loc:{start:{line:134,column:12},end:{line:137,column:13}},type:"if",locations:[{start:{line:134,column:12},end:{line:137,column:13}},{start:{line:134,column:12},end:{line:137,column:13}}],line:134},"13":{loc:{start:{line:143,column:0},end:{line:145,column:1}},type:"if",locations:[{start:{line:143,column:0},end:{line:145,column:1}},{start:{line:143,column:0},end:{line:145,column:1}}],line:143}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"72d73476e7fddb2e3d48c4bf2e5bb5ab7988129d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_25js61zk7a=function(){return actualCoverage;};}return actualCoverage;}cov_25js61zk7a();// Copyright 2014 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
/* 
 * This example will login to Splunk, and then retrieve the list of data models,
 * get the "internal_audit_logs", then get the "searches" data model object.
 * Then start a search on the "searches" data model object, track the
 * job until it's done. Then get and print out the results.
 * 
 * Then create a pivot specification and retrieve the pivot searches from
 * the Splunk server, run the search job for that pivot report, track
 * the job until it's done. Then get and print out the results.
 * At the end, the search job is cancelled.
 */var splunkjs=(cov_25js61zk7a().s[0]++,require('../../../index'));var Async=(cov_25js61zk7a().s[1]++,splunkjs.Async);cov_25js61zk7a().s[2]++;exports.main=function(opts,callback){cov_25js61zk7a().f[0]++;cov_25js61zk7a().s[3]++;// This is just for testing - ignore it.
opts=(cov_25js61zk7a().b[0][0]++,opts)||(cov_25js61zk7a().b[0][1]++,{});var username=(cov_25js61zk7a().s[4]++,(cov_25js61zk7a().b[1][0]++,opts.username)||(cov_25js61zk7a().b[1][1]++,"admin"));var password=(cov_25js61zk7a().s[5]++,(cov_25js61zk7a().b[2][0]++,opts.password)||(cov_25js61zk7a().b[2][1]++,"changed!"));var scheme=(cov_25js61zk7a().s[6]++,(cov_25js61zk7a().b[3][0]++,opts.scheme)||(cov_25js61zk7a().b[3][1]++,"https"));var host=(cov_25js61zk7a().s[7]++,(cov_25js61zk7a().b[4][0]++,opts.host)||(cov_25js61zk7a().b[4][1]++,"localhost"));var port=(cov_25js61zk7a().s[8]++,(cov_25js61zk7a().b[5][0]++,opts.port)||(cov_25js61zk7a().b[5][1]++,"8089"));var version=(cov_25js61zk7a().s[9]++,(cov_25js61zk7a().b[6][0]++,opts.version)||(cov_25js61zk7a().b[6][1]++,"default"));var service=(cov_25js61zk7a().s[10]++,new splunkjs.Service({username:username,password:password,scheme:scheme,host:host,port:port,version:version}));var searches;// We'll use this later
cov_25js61zk7a().s[11]++;Async.chain([// First, we log in.
function(done){cov_25js61zk7a().f[1]++;cov_25js61zk7a().s[12]++;service.login(done);},function(success,done){cov_25js61zk7a().f[2]++;cov_25js61zk7a().s[13]++;if(!success){cov_25js61zk7a().b[7][0]++;cov_25js61zk7a().s[14]++;done("Error logging in");}else{cov_25js61zk7a().b[7][1]++;}// Now that we're logged in, let's get the data models collection
cov_25js61zk7a().s[15]++;service.dataModels().fetch(done);},function(dataModels,done){cov_25js61zk7a().f[3]++;// ...and the specific data model we're concerned with
var dm=(cov_25js61zk7a().s[16]++,dataModels.item("internal_audit_logs"));// Get the "searches" object out of the "internal_audit_logs" data model
cov_25js61zk7a().s[17]++;searches=dm.objectByName("searches");cov_25js61zk7a().s[18]++;console.log("Working with object",searches.displayName,"in model",dm.displayName);cov_25js61zk7a().s[19]++;console.log("\t Lineage:",searches.lineage.join(" -> "));cov_25js61zk7a().s[20]++;console.log("\t Internal name: "+searches.name);// Run a data model search query, getting the first 5 results
cov_25js61zk7a().s[21]++;searches.startSearch({},"| head 5",done);},function(job,done){cov_25js61zk7a().f[4]++;cov_25js61zk7a().s[22]++;job.track({},function(job){cov_25js61zk7a().f[5]++;cov_25js61zk7a().s[23]++;job.results({},done);});},function(results,job,done){cov_25js61zk7a().f[6]++;cov_25js61zk7a().s[24]++;// Print out the results
console.log("Results:");cov_25js61zk7a().s[25]++;for(var i=(cov_25js61zk7a().s[26]++,0);i<results.rows.length;i++){var rowString=(cov_25js61zk7a().s[27]++," result "+i+":  ");var row=(cov_25js61zk7a().s[28]++,results.rows[i]);cov_25js61zk7a().s[29]++;for(var j=(cov_25js61zk7a().s[30]++,0);j<results.fields.length;j++){cov_25js61zk7a().s[31]++;if((cov_25js61zk7a().b[9][0]++,row[j]!==null)&&(cov_25js61zk7a().b[9][1]++,row[j]!==undefined)){cov_25js61zk7a().b[8][0]++;cov_25js61zk7a().s[32]++;rowString+=results.fields[j]+"="+row[j]+", ";}else{cov_25js61zk7a().b[8][1]++;}}cov_25js61zk7a().s[33]++;console.log(rowString);cov_25js61zk7a().s[34]++;console.log("------------------------------");}var pivotSpecification=(cov_25js61zk7a().s[35]++,searches.createPivotSpecification());// Each function call here returns a pivotSpecification so we can chain them
cov_25js61zk7a().s[36]++;pivotSpecification.addRowSplit("user","Executing user").addRangeColumnSplit("exec_time",{limit:4}).addCellValue("search","Search Query","values").run(done);},function(job,pivot,done){cov_25js61zk7a().f[7]++;cov_25js61zk7a().s[37]++;console.log("Query for binning search queries by execution time and executing user:");cov_25js61zk7a().s[38]++;console.log("\t",pivot.prettyQuery);cov_25js61zk7a().s[39]++;job.track({},function(job){cov_25js61zk7a().f[8]++;cov_25js61zk7a().s[40]++;job.results({},done);});},function(results,job,done){cov_25js61zk7a().f[9]++;cov_25js61zk7a().s[41]++;// Print out the results
console.log("Results:");cov_25js61zk7a().s[42]++;for(var i=(cov_25js61zk7a().s[43]++,0);i<results.rows.length;i++){var rowString=(cov_25js61zk7a().s[44]++," result "+i+":  ");var row=(cov_25js61zk7a().s[45]++,results.rows[i]);cov_25js61zk7a().s[46]++;for(var j=(cov_25js61zk7a().s[47]++,0);j<results.fields.length;j++){cov_25js61zk7a().s[48]++;if((cov_25js61zk7a().b[11][0]++,row[j]!==null)&&(cov_25js61zk7a().b[11][1]++,row[j]!==undefined)){cov_25js61zk7a().b[10][0]++;cov_25js61zk7a().s[49]++;rowString+=results.fields[j]+"="+row[j]+", ";}else{cov_25js61zk7a().b[10][1]++;}}cov_25js61zk7a().s[50]++;console.log(rowString);cov_25js61zk7a().s[51]++;console.log("------------------------------");}cov_25js61zk7a().s[52]++;job.cancel(done);}],function(err){cov_25js61zk7a().f[10]++;cov_25js61zk7a().s[53]++;if(err){cov_25js61zk7a().b[12][0]++;cov_25js61zk7a().s[54]++;console.log("ERROR",err);cov_25js61zk7a().s[55]++;callback(err);}else{cov_25js61zk7a().b[12][1]++;}cov_25js61zk7a().s[56]++;callback(err);});};cov_25js61zk7a().s[57]++;if(module===require.main){cov_25js61zk7a().b[13][0]++;cov_25js61zk7a().s[58]++;exports.main({},function(){cov_25js61zk7a().f[11]++;});}else{cov_25js61zk7a().b[13][1]++;}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpdm90X2FzeW5jLmpzIl0sIm5hbWVzIjpbInNwbHVua2pzIiwicmVxdWlyZSIsIkFzeW5jIiwiZXhwb3J0cyIsIm1haW4iLCJvcHRzIiwiY2FsbGJhY2siLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic2NoZW1lIiwiaG9zdCIsInBvcnQiLCJ2ZXJzaW9uIiwic2VydmljZSIsIlNlcnZpY2UiLCJzZWFyY2hlcyIsImNoYWluIiwiZG9uZSIsImxvZ2luIiwic3VjY2VzcyIsImRhdGFNb2RlbHMiLCJmZXRjaCIsImRtIiwiaXRlbSIsIm9iamVjdEJ5TmFtZSIsImNvbnNvbGUiLCJsb2ciLCJkaXNwbGF5TmFtZSIsImxpbmVhZ2UiLCJqb2luIiwibmFtZSIsInN0YXJ0U2VhcmNoIiwiam9iIiwidHJhY2siLCJyZXN1bHRzIiwiaSIsInJvd3MiLCJsZW5ndGgiLCJyb3dTdHJpbmciLCJyb3ciLCJqIiwiZmllbGRzIiwidW5kZWZpbmVkIiwicGl2b3RTcGVjaWZpY2F0aW9uIiwiY3JlYXRlUGl2b3RTcGVjaWZpY2F0aW9uIiwiYWRkUm93U3BsaXQiLCJhZGRSYW5nZUNvbHVtblNwbGl0IiwibGltaXQiLCJhZGRDZWxsVmFsdWUiLCJydW4iLCJwaXZvdCIsInByZXR0eVF1ZXJ5IiwiY2FuY2VsIiwiZXJyIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiOG5TQWVZOzJGQWZaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUVBLEdBQUlBLENBQUFBLFFBQVEsMEJBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUFWLENBQVosQ0FDQSxHQUFJQyxDQUFBQSxLQUFLLDBCQUFJRixRQUFRLENBQUNFLEtBQWIsQ0FBVCxDLHdCQUVBQyxPQUFPLENBQUNDLElBQVIsQ0FBZSxTQUFTQyxJQUFULENBQWVDLFFBQWYsQ0FBeUIs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QixHQUFwQixDQUEwQkQsR0FBRyxDQUFDQyxDQUFELENBQTdCLENBQW1DLElBQWhELENBQ0gsQ0FGRCxrQ0FHSCxDQVB5Qyx5QkFRMUNmLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWSxTQUFaLEVBUjBDLHlCQVMxQ2IsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQVosRUFDSCxDQWJ3Qix5QkFjekJNLEdBQUcsQ0FBQ29CLE1BQUosQ0FBV25DLElBQVgsRUFDSCxDQS9FRyxDQUFaLENBaUZJLFNBQVNvQyxHQUFULENBQWMsbURBQ1YsR0FBSUEsR0FBSixDQUFTLHNEQUNMNUIsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixDQUFxQjJCLEdBQXJCLEVBREsseUJBRUwvQyxRQUFRLENBQUMrQyxHQUFELENBQVIsQ0FDSCxDQUhELGtDQURVLHlCQUtWL0MsUUFBUSxDQUFDK0MsR0FBRCxDQUFSLENBQ0gsQ0F2RkwsRUF5RkgsQ0EvR0QsQyx5QkFpSEEsR0FBSUMsTUFBTSxHQUFLckQsT0FBTyxDQUFDRyxJQUF2QixDQUE2QixzREFDekJELE9BQU8sQ0FBQ0MsSUFBUixDQUFhLEVBQWIsQ0FBaUIsVUFBVywwQkFBRSxDQUE5QixFQUNILENBRkQiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNCBTcGx1bmssIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOiB5b3UgbWF5XG4vLyBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpblxuLy8gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuLy8gV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4vLyBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8qIFxuICogVGhpcyBleGFtcGxlIHdpbGwgbG9naW4gdG8gU3BsdW5rLCBhbmQgdGhlbiByZXRyaWV2ZSB0aGUgbGlzdCBvZiBkYXRhIG1vZGVscyxcbiAqIGdldCB0aGUgXCJpbnRlcm5hbF9hdWRpdF9sb2dzXCIsIHRoZW4gZ2V0IHRoZSBcInNlYXJjaGVzXCIgZGF0YSBtb2RlbCBvYmplY3QuXG4gKiBUaGVuIHN0YXJ0IGEgc2VhcmNoIG9uIHRoZSBcInNlYXJjaGVzXCIgZGF0YSBtb2RlbCBvYmplY3QsIHRyYWNrIHRoZVxuICogam9iIHVudGlsIGl0J3MgZG9uZS4gVGhlbiBnZXQgYW5kIHByaW50IG91dCB0aGUgcmVzdWx0cy5cbiAqIFxuICogVGhlbiBjcmVhdGUgYSBwaXZvdCBzcGVjaWZpY2F0aW9uIGFuZCByZXRyaWV2ZSB0aGUgcGl2b3Qgc2VhcmNoZXMgZnJvbVxuICogdGhlIFNwbHVuayBzZXJ2ZXIsIHJ1biB0aGUgc2VhcmNoIGpvYiBmb3IgdGhhdCBwaXZvdCByZXBvcnQsIHRyYWNrXG4gKiB0aGUgam9iIHVudGlsIGl0J3MgZG9uZS4gVGhlbiBnZXQgYW5kIHByaW50IG91dCB0aGUgcmVzdWx0cy5cbiAqIEF0IHRoZSBlbmQsIHRoZSBzZWFyY2ggam9iIGlzIGNhbmNlbGxlZC5cbiAqL1xuXG52YXIgc3BsdW5ranMgPSByZXF1aXJlKCcuLi8uLi8uLi9pbmRleCcpO1xudmFyIEFzeW5jICA9IHNwbHVua2pzLkFzeW5jO1xuXG5leHBvcnRzLm1haW4gPSBmdW5jdGlvbihvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIFRoaXMgaXMganVzdCBmb3IgdGVzdGluZyAtIGlnbm9yZSBpdC5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBcbiAgICB2YXIgdXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lICAgIHx8IFwiYWRtaW5cIjtcbiAgICB2YXIgcGFzc3dvcmQgPSBvcHRzLnBhc3N3b3JkICAgIHx8IFwiY2hhbmdlZCFcIjtcbiAgICB2YXIgc2NoZW1lICAgPSBvcHRzLnNjaGVtZSAgICAgIHx8IFwiaHR0cHNcIjtcbiAgICB2YXIgaG9zdCAgICAgPSBvcHRzLmhvc3QgICAgICAgIHx8IFwibG9jYWxob3N0XCI7XG4gICAgdmFyIHBvcnQgICAgID0gb3B0cy5wb3J0ICAgICAgICB8fCBcIjgwODlcIjtcbiAgICB2YXIgdmVyc2lvbiAgPSBvcHRzLnZlcnNpb24gICAgIHx8IFwiZGVmYXVsdFwiO1xuICAgIFxuICAgIHZhciBzZXJ2aWNlID0gbmV3IHNwbHVua2pzLlNlcnZpY2Uoe1xuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgc2NoZW1lOiBzY2hlbWUsXG4gICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb25cbiAgICB9KTtcblxuICAgIHZhciBzZWFyY2hlczsgLy8gV2UnbGwgdXNlIHRoaXMgbGF0ZXJcblxuICAgIEFzeW5jLmNoYWluKFtcbiAgICAgICAgICAgIC8vIEZpcnN0LCB3ZSBsb2cgaW4uXG4gICAgICAgICAgICBmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS5sb2dpbihkb25lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uKHN1Y2Nlc3MsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZShcIkVycm9yIGxvZ2dpbmcgaW5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm93IHRoYXQgd2UncmUgbG9nZ2VkIGluLCBsZXQncyBnZXQgdGhlIGRhdGEgbW9kZWxzIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBzZXJ2aWNlLmRhdGFNb2RlbHMoKS5mZXRjaChkb25lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihkYXRhTW9kZWxzLCBkb25lKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4uYW5kIHRoZSBzcGVjaWZpYyBkYXRhIG1vZGVsIHdlJ3JlIGNvbmNlcm5lZCB3aXRoXG4gICAgICAgICAgICAgICAgdmFyIGRtID0gZGF0YU1vZGVscy5pdGVtKFwiaW50ZXJuYWxfYXVkaXRfbG9nc1wiKTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIFwic2VhcmNoZXNcIiBvYmplY3Qgb3V0IG9mIHRoZSBcImludGVybmFsX2F1ZGl0X2xvZ3NcIiBkYXRhIG1vZGVsXG4gICAgICAgICAgICAgICAgc2VhcmNoZXMgPSBkbS5vYmplY3RCeU5hbWUoXCJzZWFyY2hlc1wiKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV29ya2luZyB3aXRoIG9iamVjdFwiLCBzZWFyY2hlcy5kaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgXCJpbiBtb2RlbFwiLCBkbS5kaXNwbGF5TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlxcdCBMaW5lYWdlOlwiLCBzZWFyY2hlcy5saW5lYWdlLmpvaW4oXCIgLT4gXCIpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlxcdCBJbnRlcm5hbCBuYW1lOiBcIiArIHNlYXJjaGVzLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gUnVuIGEgZGF0YSBtb2RlbCBzZWFyY2ggcXVlcnksIGdldHRpbmcgdGhlIGZpcnN0IDUgcmVzdWx0c1xuICAgICAgICAgICAgICAgIHNlYXJjaGVzLnN0YXJ0U2VhcmNoKHt9LCBcInwgaGVhZCA1XCIsIGRvbmUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGpvYiwgZG9uZSkge1xuICAgICAgICAgICAgICAgIGpvYi50cmFjayh7fSwgZnVuY3Rpb24oam9iKSB7XG4gICAgICAgICAgICAgICAgICAgIGpvYi5yZXN1bHRzKHt9LCBkb25lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZXN1bHRzLCBqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmludCBvdXQgdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VsdHM6XCIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dTdHJpbmcgPSBcIiByZXN1bHQgXCIgKyBpICsgXCI6ICBcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHJlc3VsdHMucm93c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXN1bHRzLmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1tqXSAhPT0gbnVsbCAmJiByb3dbal0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1N0cmluZyArPSByZXN1bHRzLmZpZWxkc1tqXSArIFwiPVwiICsgcm93W2pdICsgXCIsIFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvd1N0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgcGl2b3RTcGVjaWZpY2F0aW9uID0gc2VhcmNoZXMuY3JlYXRlUGl2b3RTcGVjaWZpY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCBmdW5jdGlvbiBjYWxsIGhlcmUgcmV0dXJucyBhIHBpdm90U3BlY2lmaWNhdGlvbiBzbyB3ZSBjYW4gY2hhaW4gdGhlbVxuICAgICAgICAgICAgICAgIHBpdm90U3BlY2lmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAuYWRkUm93U3BsaXQoXCJ1c2VyXCIsIFwiRXhlY3V0aW5nIHVzZXJcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZFJhbmdlQ29sdW1uU3BsaXQoXCJleGVjX3RpbWVcIiwge2xpbWl0OiA0fSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENlbGxWYWx1ZShcInNlYXJjaFwiLCBcIlNlYXJjaCBRdWVyeVwiLCBcInZhbHVlc1wiKVxuICAgICAgICAgICAgICAgICAgICAucnVuKGRvbmUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGpvYiwgcGl2b3QsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlF1ZXJ5IGZvciBiaW5uaW5nIHNlYXJjaCBxdWVyaWVzIGJ5IGV4ZWN1dGlvbiB0aW1lIGFuZCBleGVjdXRpbmcgdXNlcjpcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJcXHRcIiwgcGl2b3QucHJldHR5UXVlcnkpO1xuICAgICAgICAgICAgICAgIGpvYi50cmFjayh7fSwgZnVuY3Rpb24oam9iKSB7XG4gICAgICAgICAgICAgICAgICAgIGpvYi5yZXN1bHRzKHt9LCBkb25lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZXN1bHRzLCBqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmludCBvdXQgdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VsdHM6XCIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dTdHJpbmcgPSBcIiByZXN1bHQgXCIgKyBpICsgXCI6ICBcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHJlc3VsdHMucm93c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXN1bHRzLmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1tqXSAhPT0gbnVsbCAmJiByb3dbal0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1N0cmluZyArPSByZXN1bHRzLmZpZWxkc1tqXSArIFwiPVwiICsgcm93W2pdICsgXCIsIFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvd1N0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqb2IuY2FuY2VsKGRvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SXCIsIGVycik7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH1cbiAgICApO1xufTtcblxuaWYgKG1vZHVsZSA9PT0gcmVxdWlyZS5tYWluKSB7XG4gICAgZXhwb3J0cy5tYWluKHt9LCBmdW5jdGlvbigpIHt9KTtcbn1cbiJdfQ==