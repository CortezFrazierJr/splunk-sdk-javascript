function cov_2k67yyfvbc(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/search.js";var hash="991050d01d670442f2ef746dcce5a958298767b7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/search.js",statementMap:{"0":{start:{line:16,column:0},end:{line:203,column:5}},"1":{start:{line:17,column:26},end:{line:17,column:48}},"2":{start:{line:18,column:26},end:{line:18,column:40}},"3":{start:{line:19,column:26},end:{line:19,column:40}},"4":{start:{line:20,column:26},end:{line:20,column:40}},"5":{start:{line:21,column:26},end:{line:21,column:46}},"6":{start:{line:23,column:23},end:{line:30,column:5}},"7":{start:{line:32,column:24},end:{line:41,column:5}},"8":{start:{line:33,column:8},end:{line:40,column:11}},"9":{start:{line:43,column:17},end:{line:112,column:5}},"10":{start:{line:46,column:20},end:{line:46,column:34}},"11":{start:{line:47,column:24},end:{line:47,column:39}},"12":{start:{line:48,column:20},end:{line:48,column:38}},"13":{start:{line:49,column:19},end:{line:49,column:40}},"14":{start:{line:50,column:8},end:{line:50,column:30}},"15":{start:{line:51,column:8},end:{line:51,column:31}},"16":{start:{line:52,column:8},end:{line:52,column:29}},"17":{start:{line:53,column:8},end:{line:53,column:28}},"18":{start:{line:55,column:8},end:{line:111,column:10}},"19":{start:{line:58,column:20},end:{line:58,column:57}},"20":{start:{line:62,column:20},end:{line:96,column:22}},"21":{start:{line:63,column:37},end:{line:63,column:69}},"22":{start:{line:65,column:28},end:{line:88,column:31}},"23":{start:{line:66,column:32},end:{line:87,column:33}},"24":{start:{line:67,column:36},end:{line:67,column:50}},"25":{start:{line:72,column:53},end:{line:72,column:69}},"26":{start:{line:73,column:36},end:{line:84,column:37}},"27":{start:{line:74,column:58},end:{line:74,column:97}},"28":{start:{line:75,column:58},end:{line:75,column:78}},"29":{start:{line:76,column:58},end:{line:76,column:79}},"30":{start:{line:77,column:58},end:{line:77,column:80}},"31":{start:{line:78,column:52},end:{line:82,column:65}},"32":{start:{line:83,column:40},end:{line:83,column:113}},"33":{start:{line:86,column:36},end:{line:86,column:69}},"34":{start:{line:91,column:28},end:{line:93,column:29}},"35":{start:{line:92,column:32},end:{line:92,column:50}},"36":{start:{line:94,column:28},end:{line:94,column:43}},"37":{start:{line:100,column:20},end:{line:100,column:71}},"38":{start:{line:104,column:20},end:{line:104,column:66}},"39":{start:{line:105,column:20},end:{line:105,column:37}},"40":{start:{line:109,column:16},end:{line:109,column:30}},"41":{start:{line:114,column:24},end:{line:129,column:5}},"42":{start:{line:115,column:20},end:{line:115,column:34}},"43":{start:{line:116,column:8},end:{line:116,column:30}},"44":{start:{line:120,column:8},end:{line:128,column:11}},"45":{start:{line:121,column:12},end:{line:127,column:13}},"46":{start:{line:122,column:16},end:{line:122,column:30}},"47":{start:{line:125,column:16},end:{line:125,column:53}},"48":{start:{line:126,column:16},end:{line:126,column:27}},"49":{start:{line:131,column:4},end:{line:198,column:6}},"50":{start:{line:132,column:8},end:{line:132,column:41}},"51":{start:{line:134,column:8},end:{line:138,column:10}},"52":{start:{line:135,column:12},end:{line:137,column:13}},"53":{start:{line:136,column:16},end:{line:136,column:33}},"54":{start:{line:139,column:22},end:{line:139,column:38}},"55":{start:{line:141,column:8},end:{line:141,column:32}},"56":{start:{line:142,column:8},end:{line:142,column:79}},"57":{start:{line:143,column:8},end:{line:143,column:85}},"58":{start:{line:144,column:8},end:{line:144,column:71}},"59":{start:{line:145,column:8},end:{line:145,column:75}},"60":{start:{line:148,column:20},end:{line:148,column:32}},"61":{start:{line:149,column:29},end:{line:149,column:39}},"62":{start:{line:151,column:8},end:{line:155,column:9}},"63":{start:{line:151,column:20},end:{line:151,column:21}},"64":{start:{line:152,column:27},end:{line:152,column:64}},"65":{start:{line:153,column:25},end:{line:153,column:45}},"66":{start:{line:154,column:12},end:{line:154,column:84}},"67":{start:{line:157,column:8},end:{line:172,column:11}},"68":{start:{line:158,column:12},end:{line:158,column:39}},"69":{start:{line:159,column:12},end:{line:159,column:30}},"70":{start:{line:160,column:12},end:{line:160,column:54}},"71":{start:{line:161,column:12},end:{line:161,column:90}},"72":{start:{line:162,column:12},end:{line:162,column:30}},"73":{start:{line:163,column:12},end:{line:163,column:54}},"74":{start:{line:164,column:12},end:{line:164,column:110}},"75":{start:{line:165,column:12},end:{line:165,column:30}},"76":{start:{line:166,column:12},end:{line:166,column:81}},"77":{start:{line:167,column:12},end:{line:167,column:101}},"78":{start:{line:168,column:12},end:{line:168,column:30}},"79":{start:{line:169,column:12},end:{line:169,column:105}},"80":{start:{line:170,column:12},end:{line:170,column:100}},"81":{start:{line:171,column:12},end:{line:171,column:30}},"82":{start:{line:174,column:8},end:{line:174,column:28}},"83":{start:{line:176,column:22},end:{line:176,column:49}},"84":{start:{line:177,column:8},end:{line:197,column:11}},"85":{start:{line:178,column:12},end:{line:181,column:13}},"86":{start:{line:179,column:16},end:{line:179,column:45}},"87":{start:{line:180,column:16},end:{line:180,column:23}},"88":{start:{line:183,column:12},end:{line:183,column:36}},"89":{start:{line:184,column:12},end:{line:184,column:36}},"90":{start:{line:185,column:12},end:{line:185,column:34}},"91":{start:{line:186,column:12},end:{line:186,column:32}},"92":{start:{line:187,column:12},end:{line:187,column:32}},"93":{start:{line:188,column:12},end:{line:188,column:37}},"94":{start:{line:189,column:12},end:{line:189,column:35}},"95":{start:{line:191,column:12},end:{line:196,column:13}},"96":{start:{line:192,column:16},end:{line:192,column:63}},"97":{start:{line:195,column:16},end:{line:195,column:56}},"98":{start:{line:200,column:4},end:{line:202,column:5}},"99":{start:{line:201,column:8},end:{line:201,column:35}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:1},end:{line:16,column:2}},loc:{start:{line:16,column:12},end:{line:203,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:32,column:24},end:{line:32,column:25}},loc:{start:{line:32,column:42},end:{line:41,column:5}},line:32},"2":{name:"(anonymous_2)",decl:{start:{line:43,column:17},end:{line:43,column:18}},loc:{start:{line:43,column:54},end:{line:112,column:5}},line:43},"3":{name:"(anonymous_3)",decl:{start:{line:57,column:16},end:{line:57,column:17}},loc:{start:{line:57,column:31},end:{line:59,column:17}},line:57},"4":{name:"(anonymous_4)",decl:{start:{line:61,column:16},end:{line:61,column:17}},loc:{start:{line:61,column:36},end:{line:97,column:17}},line:61},"5":{name:"(anonymous_5)",decl:{start:{line:63,column:24},end:{line:63,column:25}},loc:{start:{line:63,column:35},end:{line:63,column:71}},line:63},"6":{name:"(anonymous_6)",decl:{start:{line:64,column:24},end:{line:64,column:25}},loc:{start:{line:64,column:48},end:{line:89,column:25}},line:64},"7":{name:"(anonymous_7)",decl:{start:{line:65,column:38},end:{line:65,column:39}},loc:{start:{line:65,column:57},end:{line:88,column:29}},line:65},"8":{name:"(anonymous_8)",decl:{start:{line:90,column:24},end:{line:90,column:25}},loc:{start:{line:90,column:38},end:{line:95,column:25}},line:90},"9":{name:"(anonymous_9)",decl:{start:{line:99,column:16},end:{line:99,column:17}},loc:{start:{line:99,column:36},end:{line:101,column:17}},line:99},"10":{name:"(anonymous_10)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:45},end:{line:106,column:17}},line:103},"11":{name:"(anonymous_11)",decl:{start:{line:108,column:12},end:{line:108,column:13}},loc:{start:{line:108,column:26},end:{line:110,column:13}},line:108},"12":{name:"(anonymous_12)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:61},end:{line:129,column:5}},line:114},"13":{name:"(anonymous_13)",decl:{start:{line:120,column:46},end:{line:120,column:47}},loc:{start:{line:120,column:69},end:{line:128,column:9}},line:120},"14":{name:"(anonymous_14)",decl:{start:{line:131,column:19},end:{line:131,column:20}},loc:{start:{line:131,column:44},end:{line:198,column:5}},line:131},"15":{name:"(anonymous_15)",decl:{start:{line:134,column:31},end:{line:134,column:32}},loc:{start:{line:134,column:45},end:{line:138,column:9}},line:134},"16":{name:"(anonymous_16)",decl:{start:{line:157,column:29},end:{line:157,column:30}},loc:{start:{line:157,column:39},end:{line:172,column:9}},line:157},"17":{name:"(anonymous_17)",decl:{start:{line:177,column:22},end:{line:177,column:23}},loc:{start:{line:177,column:45},end:{line:197,column:9}},line:177}},branchMap:{"0":{loc:{start:{line:48,column:20},end:{line:48,column:38}},type:"binary-expr",locations:[{start:{line:48,column:20},end:{line:48,column:33}},{start:{line:48,column:37},end:{line:48,column:38}}],line:48},"1":{loc:{start:{line:49,column:19},end:{line:49,column:40}},type:"binary-expr",locations:[{start:{line:49,column:19},end:{line:49,column:31}},{start:{line:49,column:35},end:{line:49,column:40}}],line:49},"2":{loc:{start:{line:66,column:32},end:{line:87,column:33}},type:"if",locations:[{start:{line:66,column:32},end:{line:87,column:33}},{start:{line:66,column:32},end:{line:87,column:33}}],line:66},"3":{loc:{start:{line:73,column:36},end:{line:84,column:37}},type:"if",locations:[{start:{line:73,column:36},end:{line:84,column:37}},{start:{line:73,column:36},end:{line:84,column:37}}],line:73},"4":{loc:{start:{line:91,column:28},end:{line:93,column:29}},type:"if",locations:[{start:{line:91,column:28},end:{line:93,column:29}},{start:{line:91,column:28},end:{line:93,column:29}}],line:91},"5":{loc:{start:{line:121,column:12},end:{line:127,column:13}},type:"if",locations:[{start:{line:121,column:12},end:{line:127,column:13}},{start:{line:121,column:12},end:{line:127,column:13}}],line:121},"6":{loc:{start:{line:134,column:19},end:{line:138,column:9}},type:"binary-expr",locations:[{start:{line:134,column:19},end:{line:134,column:27}},{start:{line:134,column:31},end:{line:138,column:9}}],line:134},"7":{loc:{start:{line:135,column:12},end:{line:137,column:13}},type:"if",locations:[{start:{line:135,column:12},end:{line:137,column:13}},{start:{line:135,column:12},end:{line:137,column:13}}],line:135},"8":{loc:{start:{line:178,column:12},end:{line:181,column:13}},type:"if",locations:[{start:{line:178,column:12},end:{line:181,column:13}},{start:{line:178,column:12},end:{line:181,column:13}}],line:178},"9":{loc:{start:{line:178,column:16},end:{line:178,column:31}},type:"binary-expr",locations:[{start:{line:178,column:16},end:{line:178,column:19}},{start:{line:178,column:23},end:{line:178,column:31}}],line:178},"10":{loc:{start:{line:191,column:12},end:{line:196,column:13}},type:"if",locations:[{start:{line:191,column:12},end:{line:196,column:13}},{start:{line:191,column:12},end:{line:196,column:13}}],line:191},"11":{loc:{start:{line:200,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:200,column:4},end:{line:202,column:5}},{start:{line:200,column:4},end:{line:202,column:5}}],line:200}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"991050d01d670442f2ef746dcce5a958298767b7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2k67yyfvbc=function(){return actualCoverage;};}return actualCoverage;}cov_2k67yyfvbc();cov_2k67yyfvbc().s[0]++;// Copyright 2011 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
(function(){cov_2k67yyfvbc().f[0]++;var splunkjs=(cov_2k67yyfvbc().s[1]++,require('../../index'));var Class=(cov_2k67yyfvbc().s[2]++,splunkjs.Class);var utils=(cov_2k67yyfvbc().s[3]++,splunkjs.Utils);var Async=(cov_2k67yyfvbc().s[4]++,splunkjs.Async);var options=(cov_2k67yyfvbc().s[5]++,require('./cmdline'));var FLAGS_CREATE=(cov_2k67yyfvbc().s[6]++,["search","earliest_time","latest_time","now","time_format","exec_mode","search_mode","rt_blocking","rt_queue_size","rt_maxblocksecs","rt_indexfilter","id","status_buckets","max_count","max_time","timeout","auto_finalize_ec","enable_lookups","reload_macros","reduce_freq","spawn_process","required_field_list","rf","auto_cancel","auto_pause"]);cov_2k67yyfvbc().s[7]++;var createService=function(options){cov_2k67yyfvbc().f[1]++;cov_2k67yyfvbc().s[8]++;return new splunkjs.Service({scheme:options.scheme,host:options.host,port:options.port,username:options.username,password:options.password,version:options.version});};cov_2k67yyfvbc().s[9]++;var search=function(service,options,callback){cov_2k67yyfvbc().f[2]++;// Extract the options we care about and delete them
// the object
var query=(cov_2k67yyfvbc().s[10]++,options.search);var isVerbose=(cov_2k67yyfvbc().s[11]++,options.verbose);var count=(cov_2k67yyfvbc().s[12]++,(cov_2k67yyfvbc().b[0][0]++,options.count)||(cov_2k67yyfvbc().b[0][1]++,0));var mode=(cov_2k67yyfvbc().s[13]++,(cov_2k67yyfvbc().b[1][0]++,options.mode)||(cov_2k67yyfvbc().b[1][1]++,"row"));cov_2k67yyfvbc().s[14]++;delete options.search;cov_2k67yyfvbc().s[15]++;delete options.verbose;cov_2k67yyfvbc().s[16]++;delete options.count;cov_2k67yyfvbc().s[17]++;delete options.mode;cov_2k67yyfvbc().s[18]++;Async.chain([// Create a search
function(done){cov_2k67yyfvbc().f[3]++;cov_2k67yyfvbc().s[19]++;service.search(query,options,done);},// Poll until the search is complete
function(job,done){cov_2k67yyfvbc().f[4]++;cov_2k67yyfvbc().s[20]++;Async.whilst(function(){cov_2k67yyfvbc().f[5]++;cov_2k67yyfvbc().s[21]++;return!job.properties().isDone;},function(iterationDone){cov_2k67yyfvbc().f[6]++;cov_2k67yyfvbc().s[22]++;job.fetch(function(err,job){cov_2k67yyfvbc().f[7]++;cov_2k67yyfvbc().s[23]++;if(err){cov_2k67yyfvbc().b[2][0]++;cov_2k67yyfvbc().s[24]++;callback(err);}else{cov_2k67yyfvbc().b[2][1]++;// If the user asked for verbose output,
// then write out the status of the search
var properties=(cov_2k67yyfvbc().s[25]++,job.properties());cov_2k67yyfvbc().s[26]++;if(isVerbose){cov_2k67yyfvbc().b[3][0]++;var progress=(cov_2k67yyfvbc().s[27]++,properties.doneProgress*100.0+"%");var scanned=(cov_2k67yyfvbc().s[28]++,properties.scanCount);var matched=(cov_2k67yyfvbc().s[29]++,properties.eventCount);var results=(cov_2k67yyfvbc().s[30]++,properties.resultCount);var stats=(cov_2k67yyfvbc().s[31]++,"-- "+progress+" done | "+scanned+" scanned | "+matched+" matched | "+results+" results");cov_2k67yyfvbc().s[32]++;console.log("\r"+stats+"                                          ");}else{cov_2k67yyfvbc().b[3][1]++;}cov_2k67yyfvbc().s[33]++;Async.sleep(1000,iterationDone);}});},function(err){cov_2k67yyfvbc().f[8]++;cov_2k67yyfvbc().s[34]++;if(isVerbose){cov_2k67yyfvbc().b[4][0]++;cov_2k67yyfvbc().s[35]++;console.log("\r");}else{cov_2k67yyfvbc().b[4][1]++;}cov_2k67yyfvbc().s[36]++;done(err,job);});},// Once the search is done, get the results
function(job,done){cov_2k67yyfvbc().f[9]++;cov_2k67yyfvbc().s[37]++;job.results({count:count,json_mode:mode},done);},// Print them out (as JSON), and cancel the job
function(results,job,done){cov_2k67yyfvbc().f[10]++;cov_2k67yyfvbc().s[38]++;process.stdout.write(JSON.stringify(results));cov_2k67yyfvbc().s[39]++;job.cancel(done);}],function(err){cov_2k67yyfvbc().f[11]++;cov_2k67yyfvbc().s[40]++;callback(err);});};cov_2k67yyfvbc().s[41]++;var oneshotSearch=function(service,options,callback){cov_2k67yyfvbc().f[12]++;var query=(cov_2k67yyfvbc().s[42]++,options.search);cov_2k67yyfvbc().s[43]++;delete options.search;// Oneshot searches don't have a job associated with them, so we
// simply execute it and print out the results.
cov_2k67yyfvbc().s[44]++;service.oneshotSearch(query,options,function(err,results){cov_2k67yyfvbc().f[13]++;cov_2k67yyfvbc().s[45]++;if(err){cov_2k67yyfvbc().b[5][0]++;cov_2k67yyfvbc().s[46]++;callback(err);}else{cov_2k67yyfvbc().b[5][1]++;cov_2k67yyfvbc().s[47]++;console.log(JSON.stringify(results));cov_2k67yyfvbc().s[48]++;callback();}});};cov_2k67yyfvbc().s[49]++;exports.main=function(argv,callback){cov_2k67yyfvbc().f[14]++;cov_2k67yyfvbc().s[50]++;splunkjs.Logger.setLevel("NONE");cov_2k67yyfvbc().s[51]++;callback=(cov_2k67yyfvbc().b[6][0]++,callback)||(cov_2k67yyfvbc().b[6][1]++,function(err){cov_2k67yyfvbc().f[15]++;cov_2k67yyfvbc().s[52]++;if(err){cov_2k67yyfvbc().b[7][0]++;cov_2k67yyfvbc().s[53]++;console.log(err);}else{cov_2k67yyfvbc().b[7][1]++;}});var cmdline=(cov_2k67yyfvbc().s[54]++,options.create());cov_2k67yyfvbc().s[55]++;cmdline.name="search";cov_2k67yyfvbc().s[56]++;cmdline.description("Create a search and print the results to stdout");cov_2k67yyfvbc().s[57]++;cmdline.option("--verbose","Output job progress as we wait for completion");cov_2k67yyfvbc().s[58]++;cmdline.option("--count <count>","How many results to fetch");cov_2k67yyfvbc().s[59]++;cmdline.option("--mode <mode>","Row or column mode [row|column]");// For each of the flags, add an option to the parser
var flags=(cov_2k67yyfvbc().s[60]++,FLAGS_CREATE);var required_flags=(cov_2k67yyfvbc().s[61]++,["search"]);cov_2k67yyfvbc().s[62]++;for(var i=(cov_2k67yyfvbc().s[63]++,0);i<flags.length;i++){var required=(cov_2k67yyfvbc().s[64]++,required_flags.indexOf(flags[i])>=0);var option=(cov_2k67yyfvbc().s[65]++,"<"+flags[i]+">");cov_2k67yyfvbc().s[66]++;cmdline.option("--"+flags[i]+" "+option,"",undefined,required);}cov_2k67yyfvbc().s[67]++;cmdline.on('--help',function(){cov_2k67yyfvbc().f[16]++;cov_2k67yyfvbc().s[68]++;console.log("  Examples:");cov_2k67yyfvbc().s[69]++;console.log("  ");cov_2k67yyfvbc().s[70]++;console.log("  Create a regular search:");cov_2k67yyfvbc().s[71]++;console.log("  > node search.js --search 'search index=_internal | head 10'");cov_2k67yyfvbc().s[72]++;console.log("  ");cov_2k67yyfvbc().s[73]++;console.log("  Create a oneshot search:");cov_2k67yyfvbc().s[74]++;console.log("  > node search.js --search 'search index=_internal | head 10' --exec_mode oneshot");cov_2k67yyfvbc().s[75]++;console.log("  ");cov_2k67yyfvbc().s[76]++;console.log("  Create a regular search and only return 10 results:");cov_2k67yyfvbc().s[77]++;console.log("  > node search.js --search 'search index=_internal | head 20' --count 10");cov_2k67yyfvbc().s[78]++;console.log("  ");cov_2k67yyfvbc().s[79]++;console.log("  Create a regular search and output the progress while the search is running");cov_2k67yyfvbc().s[80]++;console.log("  > node search.js --search 'search index=_internal | head 20' --verbose");cov_2k67yyfvbc().s[81]++;console.log("  ");});cov_2k67yyfvbc().s[82]++;cmdline.parse(argv);var service=(cov_2k67yyfvbc().s[83]++,createService(cmdline.opts));cov_2k67yyfvbc().s[84]++;service.login(function(err,success){cov_2k67yyfvbc().f[17]++;cov_2k67yyfvbc().s[85]++;if((cov_2k67yyfvbc().b[9][0]++,err)||(cov_2k67yyfvbc().b[9][1]++,!success)){cov_2k67yyfvbc().b[8][0]++;cov_2k67yyfvbc().s[86]++;callback("Error logging in");cov_2k67yyfvbc().s[87]++;return;}else{cov_2k67yyfvbc().b[8][1]++;}cov_2k67yyfvbc().s[88]++;delete cmdline.username;cov_2k67yyfvbc().s[89]++;delete cmdline.password;cov_2k67yyfvbc().s[90]++;delete cmdline.scheme;cov_2k67yyfvbc().s[91]++;delete cmdline.host;cov_2k67yyfvbc().s[92]++;delete cmdline.port;cov_2k67yyfvbc().s[93]++;delete cmdline.namespace;cov_2k67yyfvbc().s[94]++;delete cmdline.version;cov_2k67yyfvbc().s[95]++;if(cmdline.opts.exec_mode==="oneshot"){cov_2k67yyfvbc().b[10][0]++;cov_2k67yyfvbc().s[96]++;oneshotSearch(service,cmdline.opts,callback);}else{cov_2k67yyfvbc().b[10][1]++;cov_2k67yyfvbc().s[97]++;search(service,cmdline.opts,callback);}});};cov_2k67yyfvbc().s[98]++;if(module===require.main){cov_2k67yyfvbc().b[11][0]++;cov_2k67yyfvbc().s[99]++;exports.main(process.argv);}else{cov_2k67yyfvbc().b[11][1]++;}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5qcyJdLCJuYW1lcyI6WyJzcGx1bmtqcyIsInJlcXVpcmUiLCJDbGFzcyIsInV0aWxzIiwiVXRpbHMiLCJBc3luYyIsIm9wdGlvbnMiLCJGTEFHU19DUkVBVEUiLCJjcmVhdGVTZXJ2aWNlIiwiU2VydmljZSIsInNjaGVtZSIsImhvc3QiLCJwb3J0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInZlcnNpb24iLCJzZWFyY2giLCJzZXJ2aWNlIiwiY2FsbGJhY2siLCJxdWVyeSIsImlzVmVyYm9zZSIsInZlcmJvc2UiLCJjb3VudCIsIm1vZGUiLCJjaGFpbiIsImRvbmUiLCJqb2IiLCJ3aGlsc3QiLCJwcm9wZXJ0aWVzIiwiaXNEb25lIiwiaXRlcmF0aW9uRG9uZSIsImZldGNoIiwiZXJyIiwicHJvZ3Jlc3MiLCJkb25lUHJvZ3Jlc3MiLCJzY2FubmVkIiwic2NhbkNvdW50IiwibWF0Y2hlZCIsImV2ZW50Q291bnQiLCJyZXN1bHRzIiwicmVzdWx0Q291bnQiLCJzdGF0cyIsImNvbnNvbGUiLCJsb2ciLCJzbGVlcCIsImpzb25fbW9kZSIsInByb2Nlc3MiLCJzdGRvdXQiLCJ3cml0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYW5jZWwiLCJvbmVzaG90U2VhcmNoIiwiZXhwb3J0cyIsIm1haW4iLCJhcmd2IiwiTG9nZ2VyIiwic2V0TGV2ZWwiLCJjbWRsaW5lIiwiY3JlYXRlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwib3B0aW9uIiwiZmxhZ3MiLCJyZXF1aXJlZF9mbGFncyIsImkiLCJsZW5ndGgiLCJyZXF1aXJlZCIsImluZGV4T2YiLCJ1bmRlZmluZWQiLCJvbiIsInBhcnNlIiwib3B0cyIsImxvZ2luIiwic3VjY2VzcyIsIm5hbWVzcGFjZSIsImV4ZWNfbW9kZSIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6Ind0WUFlWTttSEFkWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLENB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LGlDQURpQyx5QkFNakMsTUFBT3dDLENBQUFBLE9BQU8sQ0FBQzdDLFFBQWYsQ0FOaUMseUJBT2pDLE1BQU82QyxDQUFBQSxPQUFPLENBQUM1QyxRQUFmLENBUGlDLHlCQVFqQyxNQUFPNEMsQ0FBQUEsT0FBTyxDQUFDaEQsTUFBZixDQVJpQyx5QkFTakMsTUFBT2dELENBQUFBLE9BQU8sQ0FBQy9DLElBQWYsQ0FUaUMseUJBVWpDLE1BQU8rQyxDQUFBQSxPQUFPLENBQUM5QyxJQUFmLENBVmlDLHlCQVdqQyxNQUFPOEMsQ0FBQUEsT0FBTyxDQUFDaUIsU0FBZixDQVhpQyx5QkFZakMsTUFBT2pCLENBQUFBLE9BQU8sQ0FBQzNDLE9BQWYsQ0FaaUMseUJBY2pDLEdBQUkyQyxPQUFPLENBQUNjLElBQVIsQ0FBYUksU0FBYixHQUEyQixTQUEvQixDQUEwQyxzREFDdEN4QixhQUFhLENBQUNuQyxPQUFELENBQVV5QyxPQUFPLENBQUNjLElBQWxCLENBQXdCdEQsUUFBeEIsQ0FBYixDQUNILENBRkQsSUFHSyxzREFDREYsTUFBTSxDQUFDQyxPQUFELENBQVV5QyxPQUFPLENBQUNjLElBQWxCLENBQXdCdEQsUUFBeEIsQ0FBTixDQUNILENBQ0osQ0FwQkQsRUFxQkgsQ0FuRUQsQ0FuSFEseUJBd0xSLEdBQUkyRCxNQUFNLEdBQUs1RSxPQUFPLENBQUNxRCxJQUF2QixDQUE2QixzREFDekJELE9BQU8sQ0FBQ0MsSUFBUixDQUFhUixPQUFPLENBQUNTLElBQXJCLEVBQ0gsQ0FGRCxrQ0FHSCxDQTNMRCIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gQ29weXJpZ2h0IDIwMTEgU3BsdW5rLCBJbmMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTogeW91IG1heVxuLy8gbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW5cbi8vIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbi8vIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuLy8gTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNwbHVua2pzICAgICAgICA9IHJlcXVpcmUoJy4uLy4uL2luZGV4Jyk7XG4gICAgdmFyIENsYXNzICAgICAgICAgICA9IHNwbHVua2pzLkNsYXNzO1xuICAgIHZhciB1dGlscyAgICAgICAgICAgPSBzcGx1bmtqcy5VdGlscztcbiAgICB2YXIgQXN5bmMgICAgICAgICAgID0gc3BsdW5ranMuQXN5bmM7XG4gICAgdmFyIG9wdGlvbnMgICAgICAgICA9IHJlcXVpcmUoJy4vY21kbGluZScpO1xuICAgIFxuICAgIHZhciBGTEFHU19DUkVBVEUgPSBbXG4gICAgICAgIFwic2VhcmNoXCIsIFwiZWFybGllc3RfdGltZVwiLCBcImxhdGVzdF90aW1lXCIsIFwibm93XCIsIFwidGltZV9mb3JtYXRcIixcbiAgICAgICAgXCJleGVjX21vZGVcIiwgXCJzZWFyY2hfbW9kZVwiLCBcInJ0X2Jsb2NraW5nXCIsIFwicnRfcXVldWVfc2l6ZVwiLFxuICAgICAgICBcInJ0X21heGJsb2Nrc2Vjc1wiLCBcInJ0X2luZGV4ZmlsdGVyXCIsIFwiaWRcIiwgXCJzdGF0dXNfYnVja2V0c1wiLFxuICAgICAgICBcIm1heF9jb3VudFwiLCBcIm1heF90aW1lXCIsIFwidGltZW91dFwiLCBcImF1dG9fZmluYWxpemVfZWNcIiwgXCJlbmFibGVfbG9va3Vwc1wiLFxuICAgICAgICBcInJlbG9hZF9tYWNyb3NcIiwgXCJyZWR1Y2VfZnJlcVwiLCBcInNwYXduX3Byb2Nlc3NcIiwgXCJyZXF1aXJlZF9maWVsZF9saXN0XCIsXG4gICAgICAgIFwicmZcIiwgXCJhdXRvX2NhbmNlbFwiLCBcImF1dG9fcGF1c2VcIlxuICAgIF07XG5cbiAgICB2YXIgY3JlYXRlU2VydmljZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzcGx1bmtqcy5TZXJ2aWNlKHtcbiAgICAgICAgICAgIHNjaGVtZTogICAgIG9wdGlvbnMuc2NoZW1lLFxuICAgICAgICAgICAgaG9zdDogICAgICAgb3B0aW9ucy5ob3N0LFxuICAgICAgICAgICAgcG9ydDogICAgICAgb3B0aW9ucy5wb3J0LFxuICAgICAgICAgICAgdXNlcm5hbWU6ICAgb3B0aW9ucy51c2VybmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAgIG9wdGlvbnMucGFzc3dvcmQsXG4gICAgICAgICAgICB2ZXJzaW9uOiAgICBvcHRpb25zLnZlcnNpb25cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgc2VhcmNoID0gZnVuY3Rpb24oc2VydmljZSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgb3B0aW9ucyB3ZSBjYXJlIGFib3V0IGFuZCBkZWxldGUgdGhlbVxuICAgICAgICAvLyB0aGUgb2JqZWN0XG4gICAgICAgIHZhciBxdWVyeSA9IG9wdGlvbnMuc2VhcmNoO1xuICAgICAgICB2YXIgaXNWZXJib3NlID0gb3B0aW9ucy52ZXJib3NlO1xuICAgICAgICB2YXIgY291bnQgPSBvcHRpb25zLmNvdW50IHx8IDA7XG4gICAgICAgIHZhciBtb2RlID0gb3B0aW9ucy5tb2RlIHx8IFwicm93XCI7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLnNlYXJjaDtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMudmVyYm9zZTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuY291bnQ7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLm1vZGU7XG4gICAgICAgIFxuICAgICAgICBBc3luYy5jaGFpbihbXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2VhcmNoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLnNlYXJjaChxdWVyeSwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBQb2xsIHVudGlsIHRoZSBzZWFyY2ggaXMgY29tcGxldGVcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgQXN5bmMud2hpbHN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiAham9iLnByb3BlcnRpZXMoKS5pc0RvbmU7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihpdGVyYXRpb25Eb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9iLmZldGNoKGZ1bmN0aW9uKGVyciwgam9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBhc2tlZCBmb3IgdmVyYm9zZSBvdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHdyaXRlIG91dCB0aGUgc3RhdHVzIG9mIHRoZSBzZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gam9iLnByb3BlcnRpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgICAgPSAocHJvcGVydGllcy5kb25lUHJvZ3Jlc3MgKiAxMDAuMCkgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nhbm5lZCAgICAgPSBwcm9wZXJ0aWVzLnNjYW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlZCAgICAgPSBwcm9wZXJ0aWVzLmV2ZW50Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgICAgID0gcHJvcGVydGllcy5yZXN1bHRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHMgPSBcIi0tIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKyBcIiBkb25lIHwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FubmVkICArIFwiIHNjYW5uZWQgfCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgICsgXCIgbWF0Y2hlZCB8IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyAgKyBcIiByZXN1bHRzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJcXHJcIiArIHN0YXRzICsgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jLnNsZWVwKDEwMDAsIGl0ZXJhdGlvbkRvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmVyYm9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlxcclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShlcnIsIGpvYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBzZWFyY2ggaXMgZG9uZSwgZ2V0IHRoZSByZXN1bHRzXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oam9iLCBkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGpvYi5yZXN1bHRzKHtjb3VudDogY291bnQsIGpzb25fbW9kZTogbW9kZX0sIGRvbmUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gUHJpbnQgdGhlbSBvdXQgKGFzIEpTT04pLCBhbmQgY2FuY2VsIHRoZSBqb2JcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXN1bHRzLCBqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoSlNPTi5zdHJpbmdpZnkocmVzdWx0cykpO1xuICAgICAgICAgICAgICAgICAgICBqb2IuY2FuY2VsKGRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH07XG4gICAgXG4gICAgdmFyIG9uZXNob3RTZWFyY2ggPSBmdW5jdGlvbihzZXJ2aWNlLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcXVlcnkgPSBvcHRpb25zLnNlYXJjaDtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuc2VhcmNoO1xuICAgICAgICBcbiAgICAgICAgLy8gT25lc2hvdCBzZWFyY2hlcyBkb24ndCBoYXZlIGEgam9iIGFzc29jaWF0ZWQgd2l0aCB0aGVtLCBzbyB3ZVxuICAgICAgICAvLyBzaW1wbHkgZXhlY3V0ZSBpdCBhbmQgcHJpbnQgb3V0IHRoZSByZXN1bHRzLlxuICAgICAgICBzZXJ2aWNlLm9uZXNob3RTZWFyY2gocXVlcnksIG9wdGlvbnMsIGZ1bmN0aW9uKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0cykpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBleHBvcnRzLm1haW4gPSBmdW5jdGlvbihhcmd2LCBjYWxsYmFjaykgeyAgICAgXG4gICAgICAgIHNwbHVua2pzLkxvZ2dlci5zZXRMZXZlbChcIk5PTkVcIik7XG4gICAgICAgIFxuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikgeyBcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY21kbGluZSA9IG9wdGlvbnMuY3JlYXRlKCk7XG4gICAgICAgIFxuICAgICAgICBjbWRsaW5lLm5hbWUgPSBcInNlYXJjaFwiO1xuICAgICAgICBjbWRsaW5lLmRlc2NyaXB0aW9uKFwiQ3JlYXRlIGEgc2VhcmNoIGFuZCBwcmludCB0aGUgcmVzdWx0cyB0byBzdGRvdXRcIik7XG4gICAgICAgIGNtZGxpbmUub3B0aW9uKFwiLS12ZXJib3NlXCIsIFwiT3V0cHV0IGpvYiBwcm9ncmVzcyBhcyB3ZSB3YWl0IGZvciBjb21wbGV0aW9uXCIpO1xuICAgICAgICBjbWRsaW5lLm9wdGlvbihcIi0tY291bnQgPGNvdW50PlwiLCBcIkhvdyBtYW55IHJlc3VsdHMgdG8gZmV0Y2hcIik7XG4gICAgICAgIGNtZGxpbmUub3B0aW9uKFwiLS1tb2RlIDxtb2RlPlwiLCBcIlJvdyBvciBjb2x1bW4gbW9kZSBbcm93fGNvbHVtbl1cIik7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgZWFjaCBvZiB0aGUgZmxhZ3MsIGFkZCBhbiBvcHRpb24gdG8gdGhlIHBhcnNlclxuICAgICAgICB2YXIgZmxhZ3MgPSBGTEFHU19DUkVBVEU7XG4gICAgICAgIHZhciByZXF1aXJlZF9mbGFncyA9IFtcInNlYXJjaFwiXTtcbiAgICAgICAgXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBmbGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlcXVpcmVkID0gcmVxdWlyZWRfZmxhZ3MuaW5kZXhPZihmbGFnc1tpXSkgPj0gMDtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBcIjxcIiArIGZsYWdzW2ldICsgXCI+XCI7XG4gICAgICAgICAgICBjbWRsaW5lLm9wdGlvbihcIi0tXCIgKyBmbGFnc1tpXSArIFwiIFwiICsgb3B0aW9uLCBcIlwiLCB1bmRlZmluZWQsIHJlcXVpcmVkKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY21kbGluZS5vbignLS1oZWxwJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICBFeGFtcGxlczpcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgIENyZWF0ZSBhIHJlZ3VsYXIgc2VhcmNoOlwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICA+IG5vZGUgc2VhcmNoLmpzIC0tc2VhcmNoICdzZWFyY2ggaW5kZXg9X2ludGVybmFsIHwgaGVhZCAxMCdcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgIENyZWF0ZSBhIG9uZXNob3Qgc2VhcmNoOlwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICA+IG5vZGUgc2VhcmNoLmpzIC0tc2VhcmNoICdzZWFyY2ggaW5kZXg9X2ludGVybmFsIHwgaGVhZCAxMCcgLS1leGVjX21vZGUgb25lc2hvdFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICBcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgQ3JlYXRlIGEgcmVndWxhciBzZWFyY2ggYW5kIG9ubHkgcmV0dXJuIDEwIHJlc3VsdHM6XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgID4gbm9kZSBzZWFyY2guanMgLS1zZWFyY2ggJ3NlYXJjaCBpbmRleD1faW50ZXJuYWwgfCBoZWFkIDIwJyAtLWNvdW50IDEwXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgIFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICBDcmVhdGUgYSByZWd1bGFyIHNlYXJjaCBhbmQgb3V0cHV0IHRoZSBwcm9ncmVzcyB3aGlsZSB0aGUgc2VhcmNoIGlzIHJ1bm5pbmdcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgPiBub2RlIHNlYXJjaC5qcyAtLXNlYXJjaCAnc2VhcmNoIGluZGV4PV9pbnRlcm5hbCB8IGhlYWQgMjAnIC0tdmVyYm9zZVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICBcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY21kbGluZS5wYXJzZShhcmd2KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBzZXJ2aWNlID0gY3JlYXRlU2VydmljZShjbWRsaW5lLm9wdHMpO1xuICAgICAgICBzZXJ2aWNlLmxvZ2luKGZ1bmN0aW9uKGVyciwgc3VjY2Vzcykge1xuICAgICAgICAgICAgaWYgKGVyciB8fCAhc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKFwiRXJyb3IgbG9nZ2luZyBpblwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRlbGV0ZSBjbWRsaW5lLnVzZXJuYW1lO1xuICAgICAgICAgICAgZGVsZXRlIGNtZGxpbmUucGFzc3dvcmQ7XG4gICAgICAgICAgICBkZWxldGUgY21kbGluZS5zY2hlbWU7XG4gICAgICAgICAgICBkZWxldGUgY21kbGluZS5ob3N0O1xuICAgICAgICAgICAgZGVsZXRlIGNtZGxpbmUucG9ydDtcbiAgICAgICAgICAgIGRlbGV0ZSBjbWRsaW5lLm5hbWVzcGFjZTtcbiAgICAgICAgICAgIGRlbGV0ZSBjbWRsaW5lLnZlcnNpb247XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjbWRsaW5lLm9wdHMuZXhlY19tb2RlID09PSBcIm9uZXNob3RcIikge1xuICAgICAgICAgICAgICAgIG9uZXNob3RTZWFyY2goc2VydmljZSwgY21kbGluZS5vcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWFyY2goc2VydmljZSwgY21kbGluZS5vcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgaWYgKG1vZHVsZSA9PT0gcmVxdWlyZS5tYWluKSB7XG4gICAgICAgIGV4cG9ydHMubWFpbihwcm9jZXNzLmFyZ3YpO1xuICAgIH1cbn0pKCk7Il19