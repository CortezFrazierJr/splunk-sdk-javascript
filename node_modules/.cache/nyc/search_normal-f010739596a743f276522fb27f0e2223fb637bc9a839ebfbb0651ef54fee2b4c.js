function cov_1wovryx2xp(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/search_normal.js";var hash="8bba249efc3f4c6513e62abc31de8576fb4ba1be";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/search_normal.js",statementMap:{"0":{start:{line:19,column:15},end:{line:19,column:40}},"1":{start:{line:20,column:13},end:{line:20,column:27}},"2":{start:{line:22,column:0},end:{line:92,column:2}},"3":{start:{line:24,column:4},end:{line:24,column:22}},"4":{start:{line:26,column:19},end:{line:26,column:46}},"5":{start:{line:27,column:19},end:{line:27,column:49}},"6":{start:{line:28,column:19},end:{line:28,column:46}},"7":{start:{line:29,column:19},end:{line:29,column:50}},"8":{start:{line:30,column:19},end:{line:30,column:45}},"9":{start:{line:31,column:19},end:{line:31,column:48}},"10":{start:{line:33,column:18},end:{line:40,column:6}},"11":{start:{line:42,column:4},end:{line:91,column:6}},"12":{start:{line:45,column:16},end:{line:45,column:36}},"13":{start:{line:49,column:16},end:{line:51,column:17}},"14":{start:{line:50,column:20},end:{line:50,column:45}},"15":{start:{line:53,column:16},end:{line:53,column:76}},"16":{start:{line:57,column:16},end:{line:60,column:19}},"17":{start:{line:59,column:20},end:{line:59,column:42}},"18":{start:{line:65,column:16},end:{line:65,column:48}},"19":{start:{line:66,column:16},end:{line:66,column:77}},"20":{start:{line:67,column:16},end:{line:67,column:86}},"21":{start:{line:68,column:16},end:{line:68,column:72}},"22":{start:{line:71,column:31},end:{line:71,column:61}},"23":{start:{line:72,column:38},end:{line:72,column:74}},"24":{start:{line:73,column:32},end:{line:73,column:62}},"25":{start:{line:76,column:16},end:{line:76,column:41}},"26":{start:{line:77,column:16},end:{line:82,column:17}},"27":{start:{line:77,column:28},end:{line:77,column:29}},"28":{start:{line:78,column:20},end:{line:78,column:56}},"29":{start:{line:79,column:20},end:{line:79,column:87}},"30":{start:{line:80,column:20},end:{line:80,column:75}},"31":{start:{line:81,column:20},end:{line:81,column:74}},"32":{start:{line:85,column:16},end:{line:85,column:33}},"33":{start:{line:89,column:12},end:{line:89,column:26}},"34":{start:{line:94,column:0},end:{line:96,column:1}},"35":{start:{line:95,column:4},end:{line:95,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:22,column:15},end:{line:22,column:16}},loc:{start:{line:22,column:40},end:{line:92,column:1}},line:22},"1":{name:"(anonymous_1)",decl:{start:{line:44,column:12},end:{line:44,column:13}},loc:{start:{line:44,column:27},end:{line:46,column:13}},line:44},"2":{name:"(anonymous_2)",decl:{start:{line:48,column:12},end:{line:48,column:13}},loc:{start:{line:48,column:36},end:{line:54,column:13}},line:48},"3":{name:"(anonymous_3)",decl:{start:{line:56,column:12},end:{line:56,column:13}},loc:{start:{line:56,column:32},end:{line:61,column:13}},line:56},"4":{name:"(anonymous_4)",decl:{start:{line:57,column:30},end:{line:57,column:31}},loc:{start:{line:57,column:44},end:{line:60,column:17}},line:57},"5":{name:"(anonymous_5)",decl:{start:{line:63,column:12},end:{line:63,column:13}},loc:{start:{line:63,column:41},end:{line:86,column:13}},line:63},"6":{name:"(anonymous_6)",decl:{start:{line:88,column:8},end:{line:88,column:9}},loc:{start:{line:88,column:22},end:{line:90,column:9}},line:88},"7":{name:"(anonymous_7)",decl:{start:{line:95,column:21},end:{line:95,column:22}},loc:{start:{line:95,column:32},end:{line:95,column:34}},line:95}},branchMap:{"0":{loc:{start:{line:24,column:11},end:{line:24,column:21}},type:"binary-expr",locations:[{start:{line:24,column:11},end:{line:24,column:15}},{start:{line:24,column:19},end:{line:24,column:21}}],line:24},"1":{loc:{start:{line:26,column:19},end:{line:26,column:46}},type:"binary-expr",locations:[{start:{line:26,column:19},end:{line:26,column:32}},{start:{line:26,column:39},end:{line:26,column:46}}],line:26},"2":{loc:{start:{line:27,column:19},end:{line:27,column:49}},type:"binary-expr",locations:[{start:{line:27,column:19},end:{line:27,column:32}},{start:{line:27,column:39},end:{line:27,column:49}}],line:27},"3":{loc:{start:{line:28,column:19},end:{line:28,column:46}},type:"binary-expr",locations:[{start:{line:28,column:19},end:{line:28,column:30}},{start:{line:28,column:39},end:{line:28,column:46}}],line:28},"4":{loc:{start:{line:29,column:19},end:{line:29,column:50}},type:"binary-expr",locations:[{start:{line:29,column:19},end:{line:29,column:28}},{start:{line:29,column:39},end:{line:29,column:50}}],line:29},"5":{loc:{start:{line:30,column:19},end:{line:30,column:45}},type:"binary-expr",locations:[{start:{line:30,column:19},end:{line:30,column:28}},{start:{line:30,column:39},end:{line:30,column:45}}],line:30},"6":{loc:{start:{line:31,column:19},end:{line:31,column:48}},type:"binary-expr",locations:[{start:{line:31,column:19},end:{line:31,column:31}},{start:{line:31,column:39},end:{line:31,column:48}}],line:31},"7":{loc:{start:{line:49,column:16},end:{line:51,column:17}},type:"if",locations:[{start:{line:49,column:16},end:{line:51,column:17}},{start:{line:49,column:16},end:{line:51,column:17}}],line:49},"8":{loc:{start:{line:94,column:0},end:{line:96,column:1}},type:"if",locations:[{start:{line:94,column:0},end:{line:96,column:1}},{start:{line:94,column:0},end:{line:96,column:1}}],line:94}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8bba249efc3f4c6513e62abc31de8576fb4ba1be"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1wovryx2xp=function(){return actualCoverage;};}return actualCoverage;}cov_1wovryx2xp();// Copyright 2011 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
// This example will login to Splunk, perform a regular search, wait until
// it is done, and then print out the raw results and some key-value pairs
var splunkjs=(cov_1wovryx2xp().s[0]++,require('../../../index'));var Async=(cov_1wovryx2xp().s[1]++,splunkjs.Async);cov_1wovryx2xp().s[2]++;exports.main=function(opts,callback){cov_1wovryx2xp().f[0]++;cov_1wovryx2xp().s[3]++;// This is just for testing - ignore it
opts=(cov_1wovryx2xp().b[0][0]++,opts)||(cov_1wovryx2xp().b[0][1]++,{});var username=(cov_1wovryx2xp().s[4]++,(cov_1wovryx2xp().b[1][0]++,opts.username)||(cov_1wovryx2xp().b[1][1]++,"admin"));var password=(cov_1wovryx2xp().s[5]++,(cov_1wovryx2xp().b[2][0]++,opts.password)||(cov_1wovryx2xp().b[2][1]++,"changed!"));var scheme=(cov_1wovryx2xp().s[6]++,(cov_1wovryx2xp().b[3][0]++,opts.scheme)||(cov_1wovryx2xp().b[3][1]++,"https"));var host=(cov_1wovryx2xp().s[7]++,(cov_1wovryx2xp().b[4][0]++,opts.host)||(cov_1wovryx2xp().b[4][1]++,"localhost"));var port=(cov_1wovryx2xp().s[8]++,(cov_1wovryx2xp().b[5][0]++,opts.port)||(cov_1wovryx2xp().b[5][1]++,"8089"));var version=(cov_1wovryx2xp().s[9]++,(cov_1wovryx2xp().b[6][0]++,opts.version)||(cov_1wovryx2xp().b[6][1]++,"default"));var service=(cov_1wovryx2xp().s[10]++,new splunkjs.Service({username:username,password:password,scheme:scheme,host:host,port:port,version:version}));cov_1wovryx2xp().s[11]++;Async.chain([// First, we log in
function(done){cov_1wovryx2xp().f[1]++;cov_1wovryx2xp().s[12]++;service.login(done);},// Perform the search
function(success,done){cov_1wovryx2xp().f[2]++;cov_1wovryx2xp().s[13]++;if(!success){cov_1wovryx2xp().b[7][0]++;cov_1wovryx2xp().s[14]++;done("Error logging in");}else{cov_1wovryx2xp().b[7][1]++;}cov_1wovryx2xp().s[15]++;service.search("search index=_internal | head 3",{},done);},// Wait until the job is done
function(job,done){cov_1wovryx2xp().f[3]++;cov_1wovryx2xp().s[16]++;job.track({},function(job){cov_1wovryx2xp().f[4]++;cov_1wovryx2xp().s[17]++;// Ask the server for the results
job.results({},done);});},// Print out the statistics and get the results
function(results,job,done){cov_1wovryx2xp().f[5]++;cov_1wovryx2xp().s[18]++;// Print out the statics
console.log("Job Statistics: ");cov_1wovryx2xp().s[19]++;console.log("  Event Count: "+job.properties().eventCount);cov_1wovryx2xp().s[20]++;console.log("  Disk Usage: "+job.properties().diskUsage+" bytes");cov_1wovryx2xp().s[21]++;console.log("  Priority: "+job.properties().priority);// Find the index of the fields we want
var rawIndex=(cov_1wovryx2xp().s[22]++,results.fields.indexOf("_raw"));var sourcetypeIndex=(cov_1wovryx2xp().s[23]++,results.fields.indexOf("sourcetype"));var userIndex=(cov_1wovryx2xp().s[24]++,results.fields.indexOf("user"));// Print out each result and the key-value pairs we want
cov_1wovryx2xp().s[25]++;console.log("Results: ");cov_1wovryx2xp().s[26]++;for(var i=(cov_1wovryx2xp().s[27]++,0);i<results.rows.length;i++){cov_1wovryx2xp().s[28]++;console.log("  Result "+i+": ");cov_1wovryx2xp().s[29]++;console.log("    sourcetype: "+results.rows[i][sourcetypeIndex]);cov_1wovryx2xp().s[30]++;console.log("    user: "+results.rows[i][userIndex]);cov_1wovryx2xp().s[31]++;console.log("    _raw: "+results.rows[i][rawIndex]);}// Once we're done, cancel the job.
cov_1wovryx2xp().s[32]++;job.cancel(done);}],function(err){cov_1wovryx2xp().f[6]++;cov_1wovryx2xp().s[33]++;callback(err);});};cov_1wovryx2xp().s[34]++;if(module===require.main){cov_1wovryx2xp().b[8][0]++;cov_1wovryx2xp().s[35]++;exports.main({},function(){cov_1wovryx2xp().f[7]++;});}else{cov_1wovryx2xp().b[8][1]++;}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaF9ub3JtYWwuanMiXSwibmFtZXMiOlsic3BsdW5ranMiLCJyZXF1aXJlIiwiQXN5bmMiLCJleHBvcnRzIiwibWFpbiIsIm9wdHMiLCJjYWxsYmFjayIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzY2hlbWUiLCJob3N0IiwicG9ydCIsInZlcnNpb24iLCJzZXJ2aWNlIiwiU2VydmljZSIsImNoYWluIiwiZG9uZSIsImxvZ2luIiwic3VjY2VzcyIsInNlYXJjaCIsImpvYiIsInRyYWNrIiwicmVzdWx0cyIsImNvbnNvbGUiLCJsb2ciLCJwcm9wZXJ0aWVzIiwiZXZlbnRDb3VudCIsImRpc2tVc2FnZSIsInByaW9yaXR5IiwicmF3SW5kZXgiLCJmaWVsZHMiLCJpbmRleE9mIiwic291cmNldHlwZUluZGV4IiwidXNlckluZGV4IiwiaSIsInJvd3MiLCJsZW5ndGgiLCJjYW5jZWwiLCJlcnIiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiIwOExBZVk7MkZBZFo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEsR0FBSUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBWixDQUNBLEdBQUlDLENBQUFBLEtBQUssMEJBQUlGLFFBQVEsQ0FBQ0UsS0FBYixDQUFULEMsd0JBRUFDLE9BQU8sQ0FBQ0MsSUFBUixDQUFlLFNBQVNDLElBQVQsQ0FBZUMsUUFBZixDQUF5QixpREFDcEM7QUFDQUQsSUFBSSxDQUFHLDRCQUFBQSxJQUFJLCtCQUFJLEVBQUosQ0FBWCxDQUVBLEdBQUlFLENBQUFBLFFBQVEsMEJBQUcsNEJBQUFGLElBQUksQ0FBQ0UsUUFBTCwrQkFBb0IsT0FBcEIsQ0FBSCxDQUFaLENBQ0EsR0FBSUMsQ0FBQUEsUUFBUSwwQkFBRyw0QkFBQUgsSUFBSSxDQUFDRyxRQUFMLCtCQUFvQixVQUFwQixDQUFILENBQVosQ0FDQSxHQUFJQyxDQUFB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LENBQWIsRUFBZ0JGLGVBQWhCLENBQWpDLEVBRnlDLHlCQUd6Q1QsT0FBTyxDQUFDQyxHQUFSLENBQVksYUFBZUYsT0FBTyxDQUFDYSxJQUFSLENBQWFELENBQWIsRUFBZ0JELFNBQWhCLENBQTNCLEVBSHlDLHlCQUl6Q1YsT0FBTyxDQUFDQyxHQUFSLENBQVksYUFBZUYsT0FBTyxDQUFDYSxJQUFSLENBQWFELENBQWIsRUFBZ0JMLFFBQWhCLENBQTNCLEVBQ0gsQ0FFRDtBQXJCeUIseUJBc0J6QlQsR0FBRyxDQUFDaUIsTUFBSixDQUFXckIsSUFBWCxFQUNILENBNUNHLENBQVosQ0E4Q0ksU0FBU3NCLEdBQVQsQ0FBYyxrREFDVmhDLFFBQVEsQ0FBQ2dDLEdBQUQsQ0FBUixDQUNILENBaERMLEVBa0RILENBdEVELEMseUJBd0VBLEdBQUlDLE1BQU0sR0FBS3RDLE9BQU8sQ0FBQ0csSUFBdkIsQ0FBNkIscURBQ3pCRCxPQUFPLENBQUNDLElBQVIsQ0FBYSxFQUFiLENBQWlCLFVBQVcseUJBQUUsQ0FBOUIsRUFDSCxDQUZEIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBDb3B5cmlnaHQgMjAxMSBTcGx1bmssIEluYy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOiB5b3UgbWF5XG4vLyBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpblxuLy8gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuLy8gV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4vLyBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vIFRoaXMgZXhhbXBsZSB3aWxsIGxvZ2luIHRvIFNwbHVuaywgcGVyZm9ybSBhIHJlZ3VsYXIgc2VhcmNoLCB3YWl0IHVudGlsXG4vLyBpdCBpcyBkb25lLCBhbmQgdGhlbiBwcmludCBvdXQgdGhlIHJhdyByZXN1bHRzIGFuZCBzb21lIGtleS12YWx1ZSBwYWlyc1xuXG52YXIgc3BsdW5ranMgPSByZXF1aXJlKCcuLi8uLi8uLi9pbmRleCcpO1xudmFyIEFzeW5jICA9IHNwbHVua2pzLkFzeW5jO1xuXG5leHBvcnRzLm1haW4gPSBmdW5jdGlvbihvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIFRoaXMgaXMganVzdCBmb3IgdGVzdGluZyAtIGlnbm9yZSBpdFxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIFxuICAgIHZhciB1c2VybmFtZSA9IG9wdHMudXNlcm5hbWUgICAgfHwgXCJhZG1pblwiO1xuICAgIHZhciBwYXNzd29yZCA9IG9wdHMucGFzc3dvcmQgICAgfHwgXCJjaGFuZ2VkIVwiO1xuICAgIHZhciBzY2hlbWUgICA9IG9wdHMuc2NoZW1lICAgICAgfHwgXCJodHRwc1wiO1xuICAgIHZhciBob3N0ICAgICA9IG9wdHMuaG9zdCAgICAgICAgfHwgXCJsb2NhbGhvc3RcIjtcbiAgICB2YXIgcG9ydCAgICAgPSBvcHRzLnBvcnQgICAgICAgIHx8IFwiODA4OVwiO1xuICAgIHZhciB2ZXJzaW9uICA9IG9wdHMudmVyc2lvbiAgICAgfHwgXCJkZWZhdWx0XCI7XG4gICAgXG4gICAgdmFyIHNlcnZpY2UgPSBuZXcgc3BsdW5ranMuU2VydmljZSh7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICBzY2hlbWU6IHNjaGVtZSxcbiAgICAgICAgaG9zdDogaG9zdCxcbiAgICAgICAgcG9ydDogcG9ydCxcbiAgICAgICAgdmVyc2lvbjogdmVyc2lvblxuICAgIH0pO1xuXG4gICAgQXN5bmMuY2hhaW4oW1xuICAgICAgICAgICAgLy8gRmlyc3QsIHdlIGxvZyBpblxuICAgICAgICAgICAgZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2UubG9naW4oZG9uZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgc2VhcmNoXG4gICAgICAgICAgICBmdW5jdGlvbihzdWNjZXNzLCBkb25lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoXCJFcnJvciBsb2dnaW5nIGluXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLnNlYXJjaChcInNlYXJjaCBpbmRleD1faW50ZXJuYWwgfCBoZWFkIDNcIiwge30sIGRvbmUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgdGhlIGpvYiBpcyBkb25lXG4gICAgICAgICAgICBmdW5jdGlvbihqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICBqb2IudHJhY2soe30sIGZ1bmN0aW9uKGpvYikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc2sgdGhlIHNlcnZlciBmb3IgdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgam9iLnJlc3VsdHMoe30sIGRvbmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFByaW50IG91dCB0aGUgc3RhdGlzdGljcyBhbmQgZ2V0IHRoZSByZXN1bHRzXG4gICAgICAgICAgICBmdW5jdGlvbihyZXN1bHRzLCBqb2IsIGRvbmUpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmludCBvdXQgdGhlIHN0YXRpY3NcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkpvYiBTdGF0aXN0aWNzOiBcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgIEV2ZW50IENvdW50OiBcIiArIGpvYi5wcm9wZXJ0aWVzKCkuZXZlbnRDb3VudCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgIERpc2sgVXNhZ2U6IFwiICsgam9iLnByb3BlcnRpZXMoKS5kaXNrVXNhZ2UgKyBcIiBieXRlc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgUHJpb3JpdHk6IFwiICsgam9iLnByb3BlcnRpZXMoKS5wcmlvcml0eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgZmllbGRzIHdlIHdhbnRcbiAgICAgICAgICAgICAgICB2YXIgcmF3SW5kZXggPSByZXN1bHRzLmZpZWxkcy5pbmRleE9mKFwiX3Jhd1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNldHlwZUluZGV4ID0gcmVzdWx0cy5maWVsZHMuaW5kZXhPZihcInNvdXJjZXR5cGVcIik7XG4gICAgICAgICAgICAgICAgdmFyIHVzZXJJbmRleCA9IHJlc3VsdHMuZmllbGRzLmluZGV4T2YoXCJ1c2VyXCIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFByaW50IG91dCBlYWNoIHJlc3VsdCBhbmQgdGhlIGtleS12YWx1ZSBwYWlycyB3ZSB3YW50XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bHRzOiBcIik7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJlc3VsdHMucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgUmVzdWx0IFwiICsgaSArIFwiOiBcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICAgIHNvdXJjZXR5cGU6IFwiICsgcmVzdWx0cy5yb3dzW2ldW3NvdXJjZXR5cGVJbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgICB1c2VyOiBcIiArIHJlc3VsdHMucm93c1tpXVt1c2VySW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgICAgX3JhdzogXCIgKyByZXN1bHRzLnJvd3NbaV1bcmF3SW5kZXhdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gT25jZSB3ZSdyZSBkb25lLCBjYW5jZWwgdGhlIGpvYi5cbiAgICAgICAgICAgICAgICBqb2IuY2FuY2VsKGRvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7ICAgICAgICBcbiAgICAgICAgfVxuICAgICk7XG59O1xuXG5pZiAobW9kdWxlID09PSByZXF1aXJlLm1haW4pIHtcbiAgICBleHBvcnRzLm1haW4oe30sIGZ1bmN0aW9uKCkge30pO1xufSJdfQ==