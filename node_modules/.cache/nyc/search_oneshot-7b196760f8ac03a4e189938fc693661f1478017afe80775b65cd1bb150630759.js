function cov_ys6zvdzq8(){var path="/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/search_oneshot.js";var hash="9feeca8e048d0ae9b774abfc43f31c62bdc4b424";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/abhis/Documents/python/splunk-sdk-javascript/examples/node/helloworld/search_oneshot.js",statementMap:{"0":{start:{line:21,column:15},end:{line:21,column:40}},"1":{start:{line:22,column:13},end:{line:22,column:27}},"2":{start:{line:24,column:0},end:{line:80,column:2}},"3":{start:{line:26,column:4},end:{line:26,column:22}},"4":{start:{line:28,column:19},end:{line:28,column:46}},"5":{start:{line:29,column:19},end:{line:29,column:49}},"6":{start:{line:30,column:19},end:{line:30,column:46}},"7":{start:{line:31,column:19},end:{line:31,column:50}},"8":{start:{line:32,column:19},end:{line:32,column:45}},"9":{start:{line:33,column:19},end:{line:33,column:48}},"10":{start:{line:35,column:18},end:{line:42,column:6}},"11":{start:{line:44,column:4},end:{line:79,column:6}},"12":{start:{line:47,column:16},end:{line:47,column:36}},"13":{start:{line:51,column:16},end:{line:53,column:17}},"14":{start:{line:52,column:20},end:{line:52,column:45}},"15":{start:{line:55,column:16},end:{line:55,column:83}},"16":{start:{line:60,column:31},end:{line:60,column:61}},"17":{start:{line:61,column:38},end:{line:61,column:74}},"18":{start:{line:62,column:32},end:{line:62,column:62}},"19":{start:{line:65,column:16},end:{line:65,column:41}},"20":{start:{line:66,column:16},end:{line:71,column:17}},"21":{start:{line:66,column:28},end:{line:66,column:29}},"22":{start:{line:67,column:20},end:{line:67,column:56}},"23":{start:{line:68,column:20},end:{line:68,column:87}},"24":{start:{line:69,column:20},end:{line:69,column:75}},"25":{start:{line:70,column:20},end:{line:70,column:74}},"26":{start:{line:73,column:16},end:{line:73,column:23}},"27":{start:{line:77,column:12},end:{line:77,column:26}},"28":{start:{line:82,column:0},end:{line:84,column:1}},"29":{start:{line:83,column:4},end:{line:83,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:40},end:{line:80,column:1}},line:24},"1":{name:"(anonymous_1)",decl:{start:{line:46,column:12},end:{line:46,column:13}},loc:{start:{line:46,column:27},end:{line:48,column:13}},line:46},"2":{name:"(anonymous_2)",decl:{start:{line:50,column:12},end:{line:50,column:13}},loc:{start:{line:50,column:36},end:{line:56,column:13}},line:50},"3":{name:"(anonymous_3)",decl:{start:{line:58,column:12},end:{line:58,column:13}},loc:{start:{line:58,column:36},end:{line:74,column:13}},line:58},"4":{name:"(anonymous_4)",decl:{start:{line:76,column:8},end:{line:76,column:9}},loc:{start:{line:76,column:22},end:{line:78,column:9}},line:76},"5":{name:"(anonymous_5)",decl:{start:{line:83,column:21},end:{line:83,column:22}},loc:{start:{line:83,column:32},end:{line:83,column:34}},line:83}},branchMap:{"0":{loc:{start:{line:26,column:11},end:{line:26,column:21}},type:"binary-expr",locations:[{start:{line:26,column:11},end:{line:26,column:15}},{start:{line:26,column:19},end:{line:26,column:21}}],line:26},"1":{loc:{start:{line:28,column:19},end:{line:28,column:46}},type:"binary-expr",locations:[{start:{line:28,column:19},end:{line:28,column:32}},{start:{line:28,column:39},end:{line:28,column:46}}],line:28},"2":{loc:{start:{line:29,column:19},end:{line:29,column:49}},type:"binary-expr",locations:[{start:{line:29,column:19},end:{line:29,column:32}},{start:{line:29,column:39},end:{line:29,column:49}}],line:29},"3":{loc:{start:{line:30,column:19},end:{line:30,column:46}},type:"binary-expr",locations:[{start:{line:30,column:19},end:{line:30,column:30}},{start:{line:30,column:39},end:{line:30,column:46}}],line:30},"4":{loc:{start:{line:31,column:19},end:{line:31,column:50}},type:"binary-expr",locations:[{start:{line:31,column:19},end:{line:31,column:28}},{start:{line:31,column:39},end:{line:31,column:50}}],line:31},"5":{loc:{start:{line:32,column:19},end:{line:32,column:45}},type:"binary-expr",locations:[{start:{line:32,column:19},end:{line:32,column:28}},{start:{line:32,column:39},end:{line:32,column:45}}],line:32},"6":{loc:{start:{line:33,column:19},end:{line:33,column:48}},type:"binary-expr",locations:[{start:{line:33,column:19},end:{line:33,column:31}},{start:{line:33,column:39},end:{line:33,column:48}}],line:33},"7":{loc:{start:{line:51,column:16},end:{line:53,column:17}},type:"if",locations:[{start:{line:51,column:16},end:{line:53,column:17}},{start:{line:51,column:16},end:{line:53,column:17}}],line:51},"8":{loc:{start:{line:82,column:0},end:{line:84,column:1}},type:"if",locations:[{start:{line:82,column:0},end:{line:84,column:1}},{start:{line:82,column:0},end:{line:84,column:1}}],line:82}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9feeca8e048d0ae9b774abfc43f31c62bdc4b424"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ys6zvdzq8=function(){return actualCoverage;};}return actualCoverage;}cov_ys6zvdzq8();// Copyright 2011 Splunk, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"): you may
// not use this file except in compliance with the License. You may obtain
// a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations
// under the License.
// This example will login to Splunk, perform a oneshot search, and then print 
// out the raw results and some key-value pairs. A one search is one that 
// won't return until the search is complete and return all the search
// results in the response.
var splunkjs=(cov_ys6zvdzq8().s[0]++,require('../../../index'));var Async=(cov_ys6zvdzq8().s[1]++,splunkjs.Async);cov_ys6zvdzq8().s[2]++;exports.main=function(opts,callback){cov_ys6zvdzq8().f[0]++;cov_ys6zvdzq8().s[3]++;// This is just for testing - ignore it
opts=(cov_ys6zvdzq8().b[0][0]++,opts)||(cov_ys6zvdzq8().b[0][1]++,{});var username=(cov_ys6zvdzq8().s[4]++,(cov_ys6zvdzq8().b[1][0]++,opts.username)||(cov_ys6zvdzq8().b[1][1]++,"admin"));var password=(cov_ys6zvdzq8().s[5]++,(cov_ys6zvdzq8().b[2][0]++,opts.password)||(cov_ys6zvdzq8().b[2][1]++,"changed!"));var scheme=(cov_ys6zvdzq8().s[6]++,(cov_ys6zvdzq8().b[3][0]++,opts.scheme)||(cov_ys6zvdzq8().b[3][1]++,"https"));var host=(cov_ys6zvdzq8().s[7]++,(cov_ys6zvdzq8().b[4][0]++,opts.host)||(cov_ys6zvdzq8().b[4][1]++,"localhost"));var port=(cov_ys6zvdzq8().s[8]++,(cov_ys6zvdzq8().b[5][0]++,opts.port)||(cov_ys6zvdzq8().b[5][1]++,"8089"));var version=(cov_ys6zvdzq8().s[9]++,(cov_ys6zvdzq8().b[6][0]++,opts.version)||(cov_ys6zvdzq8().b[6][1]++,"default"));var service=(cov_ys6zvdzq8().s[10]++,new splunkjs.Service({username:username,password:password,scheme:scheme,host:host,port:port,version:version}));cov_ys6zvdzq8().s[11]++;Async.chain([// First, we log in
function(done){cov_ys6zvdzq8().f[1]++;cov_ys6zvdzq8().s[12]++;service.login(done);},// Perform the search
function(success,done){cov_ys6zvdzq8().f[2]++;cov_ys6zvdzq8().s[13]++;if(!success){cov_ys6zvdzq8().b[7][0]++;cov_ys6zvdzq8().s[14]++;done("Error logging in");}else{cov_ys6zvdzq8().b[7][1]++;}cov_ys6zvdzq8().s[15]++;service.oneshotSearch("search index=_internal | head 3",{},done);},// The job is done, and the results are returned inline
function(results,done){cov_ys6zvdzq8().f[3]++;// Find the index of the fields we want
var rawIndex=(cov_ys6zvdzq8().s[16]++,results.fields.indexOf("_raw"));var sourcetypeIndex=(cov_ys6zvdzq8().s[17]++,results.fields.indexOf("sourcetype"));var userIndex=(cov_ys6zvdzq8().s[18]++,results.fields.indexOf("user"));// Print out each result and the key-value pairs we want
cov_ys6zvdzq8().s[19]++;console.log("Results: ");cov_ys6zvdzq8().s[20]++;for(var i=(cov_ys6zvdzq8().s[21]++,0);i<results.rows.length;i++){cov_ys6zvdzq8().s[22]++;console.log("  Result "+i+": ");cov_ys6zvdzq8().s[23]++;console.log("    sourcetype: "+results.rows[i][sourcetypeIndex]);cov_ys6zvdzq8().s[24]++;console.log("    user: "+results.rows[i][userIndex]);cov_ys6zvdzq8().s[25]++;console.log("    _raw: "+results.rows[i][rawIndex]);}cov_ys6zvdzq8().s[26]++;done();}],function(err){cov_ys6zvdzq8().f[4]++;cov_ys6zvdzq8().s[27]++;callback(err);});};cov_ys6zvdzq8().s[28]++;if(module===require.main){cov_ys6zvdzq8().b[8][0]++;cov_ys6zvdzq8().s[29]++;exports.main({},function(){cov_ys6zvdzq8().f[5]++;});}else{cov_ys6zvdzq8().b[8][1]++;}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaF9vbmVzaG90LmpzIl0sIm5hbWVzIjpbInNwbHVua2pzIiwicmVxdWlyZSIsIkFzeW5jIiwiZXhwb3J0cyIsIm1haW4iLCJvcHRzIiwiY2FsbGJhY2siLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic2NoZW1lIiwiaG9zdCIsInBvcnQiLCJ2ZXJzaW9uIiwic2VydmljZSIsIlNlcnZpY2UiLCJjaGFpbiIsImRvbmUiLCJsb2dpbiIsInN1Y2Nlc3MiLCJvbmVzaG90U2VhcmNoIiwicmVzdWx0cyIsInJhd0luZGV4IiwiZmllbGRzIiwiaW5kZXhPZiIsInNvdXJjZXR5cGVJbmRleCIsInVzZXJJbmRleCIsImNvbnNvbGUiLCJsb2ciLCJpIiwicm93cyIsImxlbmd0aCIsImVyciIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6InV4S0FlWTt5RkFkWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsR0FBSUEsQ0FBQUEsUUFBUSx5QkFBR0MsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBWixDQUNBLEdBQUlDLENBQUFBLEtBQUsseUJBQUlGLFFBQVEsQ0FBQ0UsS0FBYixDQUFULEMsdUJBRUFDLE9BQU8sQ0FBQ0MsSUFBUixDQUFlLFNBQVNDLElBQVQsQ0FBZUMsUUFBZixDQUF5QiwrQ0FDcEM7QUFDQUQsSUFBSSxDQUFHLDJCQUFBQSxJQUFJLDhCQUFJLEVBQUosQ0FBWCxDQUVBLEdBQUlFLENBQUFBLFFBQVEseUJBQUcsMkJBQUFGLElBQUksQ0FBQ0UsUUFBTCw4QkFBb0IsT0FBcEIsQ0FBSCxDQUFaLENBQ0EsR0FBSUMsQ0FBQUEsUUFBUSx5QkFBRywyQkFBQUgsSUFBSSxDQUFDRyxRQUFMLDhCQUFvQixVQUFwQixDQUFILENBQVosQ0FDQSxHQUFJQyxDQUFBQSxNQUFNLHlCQUFLLDJCQUFBSixJQUFJLENBQUNJLE1BQUwsOEJBQW9CLE9BQXBCLENBQUws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c2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik6IHlvdSBtYXlcbi8vIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluXG4vLyBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4vLyBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbi8vIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8gVGhpcyBleGFtcGxlIHdpbGwgbG9naW4gdG8gU3BsdW5rLCBwZXJmb3JtIGEgb25lc2hvdCBzZWFyY2gsIGFuZCB0aGVuIHByaW50IFxuLy8gb3V0IHRoZSByYXcgcmVzdWx0cyBhbmQgc29tZSBrZXktdmFsdWUgcGFpcnMuIEEgb25lIHNlYXJjaCBpcyBvbmUgdGhhdCBcbi8vIHdvbid0IHJldHVybiB1bnRpbCB0aGUgc2VhcmNoIGlzIGNvbXBsZXRlIGFuZCByZXR1cm4gYWxsIHRoZSBzZWFyY2hcbi8vIHJlc3VsdHMgaW4gdGhlIHJlc3BvbnNlLlxuXG52YXIgc3BsdW5ranMgPSByZXF1aXJlKCcuLi8uLi8uLi9pbmRleCcpO1xudmFyIEFzeW5jICA9IHNwbHVua2pzLkFzeW5jO1xuXG5leHBvcnRzLm1haW4gPSBmdW5jdGlvbihvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIFRoaXMgaXMganVzdCBmb3IgdGVzdGluZyAtIGlnbm9yZSBpdFxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIFxuICAgIHZhciB1c2VybmFtZSA9IG9wdHMudXNlcm5hbWUgICAgfHwgXCJhZG1pblwiO1xuICAgIHZhciBwYXNzd29yZCA9IG9wdHMucGFzc3dvcmQgICAgfHwgXCJjaGFuZ2VkIVwiO1xuICAgIHZhciBzY2hlbWUgICA9IG9wdHMuc2NoZW1lICAgICAgfHwgXCJodHRwc1wiO1xuICAgIHZhciBob3N0ICAgICA9IG9wdHMuaG9zdCAgICAgICAgfHwgXCJsb2NhbGhvc3RcIjtcbiAgICB2YXIgcG9ydCAgICAgPSBvcHRzLnBvcnQgICAgICAgIHx8IFwiODA4OVwiO1xuICAgIHZhciB2ZXJzaW9uICA9IG9wdHMudmVyc2lvbiAgICAgfHwgXCJkZWZhdWx0XCI7XG4gICAgXG4gICAgdmFyIHNlcnZpY2UgPSBuZXcgc3BsdW5ranMuU2VydmljZSh7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICBzY2hlbWU6IHNjaGVtZSxcbiAgICAgICAgaG9zdDogaG9zdCxcbiAgICAgICAgcG9ydDogcG9ydCxcbiAgICAgICAgdmVyc2lvbjogdmVyc2lvblxuICAgIH0pO1xuXG4gICAgQXN5bmMuY2hhaW4oW1xuICAgICAgICAgICAgLy8gRmlyc3QsIHdlIGxvZyBpblxuICAgICAgICAgICAgZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2UubG9naW4oZG9uZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgc2VhcmNoXG4gICAgICAgICAgICBmdW5jdGlvbihzdWNjZXNzLCBkb25lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoXCJFcnJvciBsb2dnaW5nIGluXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLm9uZXNob3RTZWFyY2goXCJzZWFyY2ggaW5kZXg9X2ludGVybmFsIHwgaGVhZCAzXCIsIHt9LCBkb25lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUaGUgam9iIGlzIGRvbmUsIGFuZCB0aGUgcmVzdWx0cyBhcmUgcmV0dXJuZWQgaW5saW5lXG4gICAgICAgICAgICBmdW5jdGlvbihyZXN1bHRzLCBkb25lKSB7XG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGZpZWxkcyB3ZSB3YW50XG4gICAgICAgICAgICAgICAgdmFyIHJhd0luZGV4ID0gcmVzdWx0cy5maWVsZHMuaW5kZXhPZihcIl9yYXdcIik7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZXR5cGVJbmRleCA9IHJlc3VsdHMuZmllbGRzLmluZGV4T2YoXCJzb3VyY2V0eXBlXCIpO1xuICAgICAgICAgICAgICAgIHZhciB1c2VySW5kZXggPSByZXN1bHRzLmZpZWxkcy5pbmRleE9mKFwidXNlclwiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBQcmludCBvdXQgZWFjaCByZXN1bHQgYW5kIHRoZSBrZXktdmFsdWUgcGFpcnMgd2Ugd2FudFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdWx0czogXCIpO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCByZXN1bHRzLnJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgIFJlc3VsdCBcIiArIGkgKyBcIjogXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgICBzb3VyY2V0eXBlOiBcIiArIHJlc3VsdHMucm93c1tpXVtzb3VyY2V0eXBlSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgICAgdXNlcjogXCIgKyByZXN1bHRzLnJvd3NbaV1bdXNlckluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICAgIF9yYXc6IFwiICsgcmVzdWx0cy5yb3dzW2ldW3Jhd0luZGV4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIpOyAgICAgICAgXG4gICAgICAgIH1cbiAgICApO1xufTtcblxuaWYgKG1vZHVsZSA9PT0gcmVxdWlyZS5tYWluKSB7XG4gICAgZXhwb3J0cy5tYWluKHt9LCBmdW5jdGlvbigpIHt9KTtcbn0iXX0=